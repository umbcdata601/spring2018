<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>

	<TITLE></TITLE>
</HEAD>
<BODY>
<P><BR><BR>
</P>
<P><U><B>CHAPTER
5	DATA VISUALIZATION 							pp. 97 - 204</SPAN></B></U></FONT></FONT></P>
<P><U><B>(5.1)
	DATA VISUALIZATION								p. 98</SPAN></B></U></FONT></FONT></P>
<P><B>(5.1.1)	Introduction										p.
99</SPAN></B></FONT></FONT></P>
<P><B>(5.1.2)	Visualization
Concepts									p. 106</SPAN></B></FONT></FONT></P>
<P><U><B>(5.2)	THE
GRAMMAR OF GRAPHICS                                          				p.
108</SPAN></B></U></FONT></FONT></P>
<P><B>(5.2.1)	Visualization
of a Single Continous Variable using Histograms 				p. 117</SPAN></B></FONT></FONT></P>
<P><B>(5.2.2)	Histograms
of a Single Continous Variable by a Categorical Variable 			p. 129</SPAN></B></FONT></FONT></P>
<P><B>(5.2.3)	Visualization
of a Single Continous Variable using Density Plots 				p. 140</SPAN></B></FONT></FONT></P>
<P><B>(5.2.4)	Density
Plots of a Single Continous Variable by a Categorical Variable 			p.
145</SPAN></B></FONT></FONT></P>
<P><B>(5.2.5)	Visualization
of a Single Continous Variable using Superimposted Histogram and
Density Plot p. 156</SPAN></B></FONT></FONT></P>
<P><B>(5.2.6)	Visualization
of a Single Discrete or Categorical Variable 					p. 157</SPAN></B></FONT></FONT></P>
<P><B>(5.2.7)	Visualizations
of Relationships Between Two Variables - One Continuous, One
Categorical 	p. 162</SPAN></B></FONT></FONT></P>
<P><B>(5.2.8)	Visualizations
of Relationships Between Two Variables - Both Continuous  			p. 180</SPAN></B></FONT></FONT></P>
<P><B>(5.2.9)	Heat
Maps										p. 200</SPAN></B></FONT></FONT></P>
<P><B>(5.2.10)	Correlations
										p. 203</SPAN></B></FONT></FONT></P>
<P><A NAME="_GoBack"></A><B>(5.2.11)	Visualizations
of Relationships Between Three Variables 					p. 205</SPAN></B></FONT></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><B>Ch.
5 requires the following R packages:</SPAN></B></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">corrgram</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>plotly</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scatterplot3d<FONT COLOR="#ff0000">
</FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P STYLE="margin-left: 0.35in; margin-bottom: 0.11in"><BR><BR>
</P>
<P STYLE="margin-left: 0.35in; margin-bottom: 0.11in"><BR><BR>
</P>
<P STYLE="margin-left: 0.35in; margin-bottom: 0.11in"><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P STYLE="margin-left: 0.35in; margin-bottom: 0.11in"><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0.11in; page-break-before: always"><BR><BR>
</P>
<OL START=5>
	<LI><P><FONT COLOR="#ff0000"><U><B>DATA
	VISUALIZATION </SPAN></B></U></FONT></FONT></FONT>
	</P>
</OL>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<LI><P><FONT COLOR="#ff0000"><B>DATA
		VISUALIZATION</SPAN></B></FONT></FONT></FONT></P>
	</OL>
</OL>
<OL>
	<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
	<B>Prepare Data </B></FONT></FONT>
	</P>
	<OL TYPE=a>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Importing Data</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Data Verification</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Data Summarization</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		<B><SPAN STYLE="background: #ffff00">Data
		Visualization</SPAN></B></FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Data Cleaning</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Feature Selection</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Data Transforms</FONT></FONT></P>
	</OL>
	<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
	<B>Evaluate
	Algorithms </B></FONT></FONT>
	</P>
	<OL TYPE=a>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Resampling Methods</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Evaluation Metrics</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Spot-Check
		Algorithms</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Model Selection</FONT></FONT></P>
	</OL>
	<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
	<B>Improve Results </B></FONT></FONT>
	</P>
	<OL TYPE=a>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Algorithm Tuning</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Ensemble Methods</FONT></FONT></P>
	</OL>
	<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
	<B>Present Results </B></FONT></FONT>
	</P>
	<OL TYPE=a>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Finalize Model</FONT></FONT></P>
		<LI><P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 115%">
		Make New
		Predictions</FONT></FONT></P>
	</OL>
</OL>
<P><B>&quot;</B><I><B>The
greatest value of a picture is when it forces us to notice what we
never expected to see</B></I><B>” <A HREF="http://cm.bell-labs.com/cm/ms/departments/sia/tukey/index.html">John
W. Tukey</A>, statistician and scientist</B></SPAN></FONT></FONT></FONT></P>
<P>“<I><B>Data
visualization is the representation and presentation of data that
exploits our visual perception abilities in order to amplify
cognition</B></I><B>” Andy Kirk, data visualization architect</B></SPAN></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5148dda0.gif" NAME="Picture 3" ALIGN=BOTTOM WIDTH=640 HEIGHT=199 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><A HREF="http://www.allanalytics.com/author.asp?section_id=1411&amp;doc_id=260370">http://www.allanalytics.com/author.asp?section_id=1411&amp;doc_id=260370</FONT></FONT></A></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Andy
Kirk presents four objectives for data visualization:</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Strive
	for form&nbsp;and&nbsp;function</SPAN></B>. This objective, like
	data visualization itself, isn't new. But applied here, this is
	about grabbing people's attention aesthetically, and then once
	they're on board, provide something functional -- something &quot;that
	makes people feel like they've learned something,&quot;</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Seek
	to create accessibility into a subject through design that is as
	intuitive as possible</SPAN></B>.  What we want to do is focus on
	the clarity because some things are inherently complex. Sometimes
	the way we portray data is unusual and different, but we need to
	trust the fact that people can learn these things, that they can
	learn how to decode these portrayals of data. And what we're trying
	to do is create a portrayal of the subject matter that really
	captures the essence of that data, that data framework, and the
	story that we're trying to tell, which sometimes means things aren't
	necessarily instant. But as long as we keep in mind that people need
	to root into our subject, through clarity and accessibility of
	design, that is something that makes success</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Be
	confident in the ability to justify the inclusion, exclusion, and
	deployment of&nbsp;every&nbsp;design property used</SPAN></B>;
	sometimes, visualizations simply aren't necessary</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Never
	deceive the receiver</SPAN></B>. This is about the ethics of data
	visualization. Plain and simple: Don't distort the truth, even if
	the numbers you're portraying are hardly world-changing</SPAN></FONT></FONT></FONT></P>
</UL>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL>
			<LI><P><FONT COLOR="#ff0000"><B>Introduction</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P><B>Data
visualization is not a new concept</B></FONT></FONT></FONT>.
There are two very notable examples of the historical importance of
data visualization. </FONT></FONT></FONT><B><SPAN STYLE="background: #ffff00">Probably
one of the best statistical graphics ever drawn was by Charles Joseph
Minard in 1869 and portrays the losses suffered by Napoleon's army in
his Russian campaign of 1812</SPAN></B></FONT></FONT></FONT>.
Beginning at the Polish-Russian border, the thick band shows the size
of the French Army at each position during their advance. The path of
Napoleon's retreat from Moscow in the bitterly cold winter is
depicted by the dark lower band, which is tied to temperature and
time scales</FONT></FONT></FONT>. 
<A HREF="https://www.edwardtufte.com/tufte/posters">https://www.edwardtufte.com/tufte/posters</A></SPAN></FONT></FONT></FONT></P>
<P>It
displays six types of data in two dimensions: the number of
Napoleon's troops; the distance traveled; temperature; latitude and
longitude; direction of travel; and location relative to specific
dates.</SPAN></FONT></FONT></FONT></P>
<P><B>This
graphic can be thought of as a compound graphic</B>: the top part
displays the number of troops during the advance and retreat and the
bottom part shows the temperature during the advance. The top part
displays two data sets; cities and troops. Each city has a position
(a latitude and longitude) and a name, and each troop observation has
a position, a direction (advance or retreat), and number of
survivors. An additional variable that is not obvious from the
graphic is a group variable which separates the “arms” of the
advance and retreat. <B><SPAN STYLE="background: #ffff00">It combines
numerical data and information as well as both spatial and temporal
data and information</SPAN></B>.  </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><A HREF="https://en.wikipedia.org/wiki/Charles_Joseph_Minard">https://en.wikipedia.org/wiki/Charles_Joseph_Minard</FONT></FONT></A></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_595464b6.png" NAME="Picture 22" ALIGN=BOTTOM WIDTH=701 HEIGHT=373 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">And
below is a modern version of the graph in English.
</FONT></FONT><A HREF="https://en.wikipedia.org/wiki/Charles_Joseph_Minard">https://en.wikipedia.org/wiki/Charles_Joseph_Minard</FONT></FONT></A></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5197c1fd.png" NAME="Picture 29" ALIGN=BOTTOM WIDTH=720 HEIGHT=416 BORDER=0></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_7b4b650c.jpg" NAME="Picture 23" ALIGN=BOTTOM WIDTH=675 HEIGHT=462 BORDER=0></P>
<P><BR><BR>
</P>
<P><B><SPAN STYLE="background: #ffff00">The
next important historical data plot was the m</SPAN></B><B><SPAN STYLE="background: #ffff00">apping
of the 1854 London Cholera Outbreak</SPAN></B><B><SPAN STYLE="background: #ffff00">
by Dr. John Snow who is regarded as one of the founding fathers of
modern epidemiology</SPAN></B>.&nbsp;As London suffered a series of
cholera outbreaks during the mid-19th century, Snow theorized that
cholera reproduced in the human body and was spread through
contaminated water.&nbsp; This contradicted the prevailing theory
that diseases were spread by &quot;miasma&quot; in the air. </SPAN></FONT></FONT></FONT>
</P>
<P>London's
water supply system consisted of shallow public wells where people
could pump their own water to carry home, and about a dozen water
utilities that drew water from the Thames to supply a jumble of water
lines to more upscale houses. London's sewage system was even more ad
hoc: privies emptied into cesspools or cellars more often than
directly into sewer pipes. So the pervasive stench of animal and
human feces combined with rotting garbage made the miasma theory of
disease seem very plausible. Disease was more prevalent in
lower-class neighborhoods because they stank more, and because the
supposed moral depravity of poor people weakened their constitutions
and made them more vulnerable to disease. </SPAN></FONT></FONT></FONT>
</P>
<P><B>The
September 1854 cholera outbreak was centered in the Soho district,
close to Snow's house. Snow mapped the 13 public wells and all the
known cholera deaths around Soho, and noted the spatial clustering of
cases around one particular water pump on the southwest corner of the
intersection of Broad (now Broadwick) Street and Cambridge (now
Lexington) Street.&nbsp; He examined water samples from various wells
under a microscope, and confirmed the presence of an unknown
bacterium in the Broad Street samples. Despite strong skepticism from
the local authorities, he had the pump handle removed from the Broad
Street pump and the outbreak quickly subsided.&nbsp; </B></SPAN></FONT></FONT></FONT>
</P>
<P>Snow
subsequently published a map of the epidemic to support his theory. A
detail from this map is shown below.&nbsp; </SPAN></FONT></FONT></FONT>
</P>
<P><A HREF="https://www1.udel.edu/johnmack/frec682/cholera/">https://www1.udel.edu/johnmack/frec682/cholera/</A>
</FONT></FONT>
</P>
<P ALIGN=CENTER STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_c2fbc6d8.png" NAME="Picture 24" ALIGN=BOTTOM WIDTH=546 HEIGHT=451 BORDER=0></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><B><SPAN STYLE="background: #ffff00">The
complete map below shows the locations of the 13 public wells in the
area, and the 578 cholera deaths mapped by home address, marked as
black bars stacked perpendicular to the streets.</SPAN></B><B>&nbsp;
</B>Some anomalies are worth noting. Although the large workhouse
just north of Broad Street housed over 500 paupers, it suffered very
few cholera deaths because it had its own well (not shown on the
map).&nbsp; Likewise, the workers at the brewery one block east of
the Broad Street pump could drink all the beer they wanted; the
fermentation killed the cholera bacteria, and none of the brewery
workers contracted cholera. Many of the deaths further away from the
Broad Street pump were people who walked to work or market on the
Broad Street and drank from that well. The water from the Broad
Street well reportedly tasted better than water from most of the
neighboring wells, particularly the smelly water from the Carnaby
Street/Little Marlborough Street well a few blocks to the northeast. </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 100%">
<A HREF="https://www1.udel.edu/johnmack/frec682/cholera/cholera2.html"><FONT COLOR="#0000ff"><U>Analysis
of Dr. Snow's map </U></FONT></FONT></FONT></A>
</P>
<P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 100%">
<IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_100d1240.jpg" NAME="Picture 25" ALIGN=BOTTOM WIDTH=685 HEIGHT=552 BORDER=0></P>
<P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-top: 0.19in; margin-bottom: 0.19in; line-height: 100%">
<IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_91fe16d3.png" NAME="Picture 28" ALIGN=BOTTOM WIDTH=704 HEIGHT=449 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Note
that both of these previous historical plots (and portions of
Minard’s above) are example of the use of <B>spatial statistics</B>.
Spatial analysis&nbsp;or&nbsp;spatial statistics&nbsp;includes any of
the formal&nbsp;<A HREF="https://en.wikipedia.org/wiki/Scientific_technique">techniques</A>&nbsp;which
study entities using their&nbsp;<B><A HREF="https://en.wikipedia.org/wiki/Topological">topological</A>,&nbsp;<A HREF="https://en.wikipedia.org/wiki/Geometric">geometric</A>,
or&nbsp;<A HREF="https://en.wikipedia.org/wiki/Geographic">geographic</A>&nbsp;properties.</B>
Spatial analysis includes a variety of techniques and different
analytic approaches and can be applied to fields as diverse
as&nbsp;<B><A HREF="https://en.wikipedia.org/wiki/Astronomy">astronomy</A>,
with its studies of the placement of galaxies in the&nbsp;<A HREF="https://en.wikipedia.org/wiki/Cosmos">cosmos</A>,
to chip fabrication engineering, with its use of &quot;place and
route&quot;&nbsp;<A HREF="https://en.wikipedia.org/wiki/Algorithm">algorithms</A>&nbsp;to
build complex wiring structures, forestry, voting patterns etc.</B>
In a more restricted sense, spatial analysis is the technique applied
to structures at the human scale, most notably in the analysis
of&nbsp;<A HREF="https://en.wikipedia.org/wiki/Geographic_data"><SPAN STYLE="text-decoration: none">geographic
data</SPAN></FONT></A> (from
<A HREF="https://en.wikipedia.org/wiki/Spatial_analysis">https://en.wikipedia.org/wiki/Spatial_analysis</A>).
For more information on R tools for spatial analysis see
<A HREF="https://cran.r-project.org/web/views/Spatial.html">https://cran.r-project.org/web/views/Spatial.html</A>.
 </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>One
very recent graphic highlights the powers of data visualization (from
<A HREF="http://www.sciencemag.org/news/2017/04/where-did-your-dog-come-new-tree-breeds-may-hold-answer">http://www.sciencemag.org/news/2017/04/where-did-your-dog-come-new-tree-breeds-may-hold-answer</A>
).  The sample includes 1346 dogs representing 161 breeds, or not
quite half of all kinds of dogs. By comparing the differences at
150,000 spots on each dog's genome, they built a family tree. <SPAN STYLE="text-decoration: none"><A HREF="http://www.cell.com/cell-reports/fulltext/S2211-1247(17)30456-4">Almost
all the breeds fell into 23 larger groupings called clades</A>
(represented by different colors below)</SPAN></FONT>. Although
genetically defined, the clades also tended to bring together dogs
with similar traits: Thus boxers, bulldogs, and Boston terriers—all
bred for strength—fall into one clade;&nbsp;whereas herders like
sheepdogs, corgis, and collies fall into another; and hunters like
retrievers, spaniels, and setters fall into a third. The grouping of
different breeds that share particular jobs suggests that ancient
breeders likely bred dogs for specific purposes, choosing to care for
those that were best at guarding or herding. Then, in the past 200
years, people subdivided those larger groups into breeds.</SPAN></FONT></FONT></FONT></P>
<P>But
the data also show how some breeds helped create others, as they
share DNA with multiple clades. As one of the earliest small dogs,
the pug, which hailed from China, was used in Europe from the 1500s
onward to shrink other breeds. Thus, pug DNA is part of many other
toy and small dog genomes, Parker explains.</SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_be736583.png" NAME="Picture 1" ALIGN=BOTTOM WIDTH=614 HEIGHT=590 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P>Data
visualization is an important early part of what is called
exploratory data analysis (EDA) and is explored in the writings of
the statistician Joh Tukey, especially in <B>Exploratory Data
Analysis</B> published in 1977, see
<A HREF="https://pdfs.semanticscholar.org/2f40/fd06bc9fd00a27437e14ed171e96e4fd9326.pdf">https://pdfs.semanticscholar.org/2f40/fd06bc9fd00a27437e14ed171e96e4fd9326.pdf</A>.
</SPAN></FONT></FONT></FONT>
</P>
<P>These
writings discussed an approach or philosophy for data analysis that
employed a variety of techniques (many of them graphical) to </SPAN></FONT></FONT></FONT>
</P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>maximize
	insight into a data set;</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>uncover
	underlying structure;</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>extract
	important variables;</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>detect
	outliers and anomalies;</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>test
	underlying assumptions;</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>develop
	parsimonious (i.e., simplest possible) models; and</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>determine
	optimal factor settings.</B></SPAN></FONT></FONT></FONT></P>
</UL>
<P>More
details about Tukey’s EDA ideas can be found in the book
<U><B>Statistical and Machine-Learning Data Mining: Techniques for
Better Predictive Modeling and Analysis of Big Data</B></U>, Second
Edition by <A HREF="http://skillport.books24x7.com/SearchResults.aspx?qdom=author&amp;scol=%7ball%7d&amp;qstr=Bruce%20Ratner">Bruce
Ratner</A>, 2012, Ch 10; </SPAN></FONT></FONT></FONT>
</P>
<P>The
essence of EDA is best described in Tukey's own words: &quot;<B><SPAN STYLE="background: #ffff00">Exploratory
data analysis is detective work - numerical detective work—or
counting detective work—or graphical detective work. … [It is]
about looking at data to see what it seems to say. It concentrates on
simple arithmetic and easy-to-draw pictures. It regards whatever
appearances we have recognized as partial descriptions, and tries to
look beneath them for new insights</SPAN></B>.&quot; EDA includes the
following characteristics:</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Flexibility</SPAN></B><B>:
	techniques with greater flexibility to delve into the data</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Practicality</SPAN></B><B>:
	advice for procedures of analyzing data</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Innovation</SPAN></B><B>:
	techniques for interpreting results</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Universality</SPAN></B><B>:
	use all statistics that apply to analyzing data</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Simplicity</SPAN></B><B>:
	above all, the belief that simplicity is the golden rule</B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P><B>The
statistician has also been empowered by the computational strength of
the personal computer (PC), which without the natural seven-step
cycle of statistical modeling and analysis would not be possible.</B>
The PC and the analytical cycle comprise the perfect pairing as long
as the steps are followed in order and the information obtained from
one step is used in the next step. Unfortunately, statisticians are
human and succumb to taking shortcuts through the seven-step cycle
(shown below). They ignore the cycle and focus solely on the sixth
step, delineated next. However, careful statistical endeavor requires
additional procedures, as described in the originally outlined
seven-step cycle that follows:</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><A NAME="page187"></A><A NAME="547"></A>
	<B><SPAN STYLE="background: #ffff00">Definition
	of the problem</SPAN></B><B> - determining the best way to tackle
	the problem is not always obvious. Management objectives are often
	expressed qualitatively, in which case the selection of the outcome
	or target (dependent) variable is subjectively biased. When the
	objectives are clearly stated, the appropriate dependent variable is
	often not available, in which case a surrogate must be used.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Determining
	technique</SPAN></B><B> - the technique first selected is often the
	one with which the data analyst is most comfortable; it is not
	necessarily the best technique for solving the problem.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Use
	of competing techniques</SPAN></B><B> - applying alternative
	techniques increases the odds that a thorough analysis is conducted.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Rough
	comparisons of efficacy</SPAN></B><B> - comparing variability of
	results across techniques can suggest additional techniques or the
	deletion of alternative techniques.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Comparison
	in terms of a precise (and thereby inadequate) criterion</SPAN></B><B>
	- explicit criterion is difficult to define; therefore, precise
	surrogates are often used.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Optimization
	in terms of a precise and similarly inadequate criterion</SPAN></B><B>
	- an explicit criterion is difficult to define; therefore, precise
	surrogates are often used. Comparison in terms of several
	optimization criteria - this constitutes the final step in
	determining the best solution.</B></SPAN></FONT></FONT></FONT></P>
</UL>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P>We
revisit a diagram we showed in the first class to highlight the role
that EDA plays in the data science process from
<A HREF="https://en.wikipedia.org/wiki/Exploratory_data_analysis#/media/File:Data_visualization_process_v1.png">https://en.wikipedia.org/wiki/Exploratory_data_analysis#/media/File:Data_visualization_process_v1.png</A>
</SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_d383bfac.png" NAME="Picture 82" ALIGN=BOTTOM WIDTH=646 HEIGHT=484 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<OL START=5>
	<OL>
		<OL START=2>
			<LI><P><FONT COLOR="#ff0000"><B>Visualization
			Concepts</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P>One
of the seminal books on data visualization is <U><B>The Visual
Display of Quantitative Information</B></U>, 2<SUP>nd</SUP> Edition
2001 by Edward Tufte, who is considered one of the pioneers in modern
data visualization (<A HREF="https://www.edwardtufte.com/tufte/books_vdqi"><FONT FACE="NewBaskerville-Roman, serif">https://www.edwardtufte.com/tufte/books_vdqi</FONT></A>).
In this book, he introduces six principles of graphical integrity; </SPAN></FONT></FONT></FONT>
</P>
<P><A HREF="http://stat.pugetsound.edu/courses/class13/dataVisualization.pdf">http://stat.pugetsound.edu/courses/class13/dataVisualization.pdf</A>
</SPAN></FONT></FONT></FONT>
</P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">The
	representation of numbers, as physically measured on the surface of
	the graphic itself, should be directly proportional to the numerical
	quantities measured. </SPAN></B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Clear,
	detailed, and thorough labeling should be used to defeat graphical
	distortion and ambiguity. Write out explanations of the data on the
	graphic itself. Label important events in the data.</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Show
	data variation, not design variation</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">In
	time-series displays of money, deflated and standardized units of
	monetary measurement are nearly always better than nominal units</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">The
	number of information-carrying (variable) dimensions depicted should
	not exceed the number of dimensions in the data (e.g. don’t use a
	3-D bar chart of 2-D data)</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Graphics
	must not quote data out of context</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P>He
also recommends <B>maximizing the data-to-ink ratio</B>, within
reason, which means don’t use heavy grid lines in the background or
even horizontal reference lines. He extends this with two further
guidelines for how to achieve it - erase non-data ink within reason,
and erase redundant data ink, again within reason. He even addresses
the aspect ratio of your graph which is that your horizontal graphics
should be about 50 percent wider than tall (approximately a 3:2
aspect ratio), unless the nature of the data suggests otherwise. His
guiding principle is <B><SPAN STYLE="background: #ffff00">above all
else – show the data</SPAN></B>.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Additional
visualization principles come from William S. Cleveland in his book
<U><B>The Elements of Graphing Data</B></U> which first came out in
1985. Many of these are quite similar to those of Tufte, although his
work in this area preceded Tufte’s work.</SPAN></FONT></FONT></FONT></P>
<P>He
discusses four major categories in his principles of graph
construction: Clear vision, Clear understanding, Scales and General
strategy.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<U><B><SPAN STYLE="background: #ffff00">Clear
vision</SPAN></B></U></SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Make
	the data stand out. Avoid super fluidity</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Use
	visually prominent graphical elements to show the data.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Do
	not clutter the data region. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Use
	a reference line when there is an important value that must be seen
	across the entire graph, but do not let the line interfere with the
	data.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Do
	not allow data labels in the data region to interfere with the
	quantitative data or to clutter the graph.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Avoid
	putting notes, keys, and markers in the data region. Put keys and
	markers just outside the data region and put notes in the legend or
	in the text.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Overlapping
	plotting symbols must be visually distinguishable.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Superposed
	data sets must be readily visually discriminated. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Visual
	clarity must be preserved under reduction and reproduction. </B></SPAN></FONT></FONT></FONT>
	</P>
</UL>
<P><BR><BR>
</P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<U><B><SPAN STYLE="background: #ffff00">Clear
understanding</SPAN></B></U></SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Put
	major conclusions into graphical form. Make legends comprehensive
	and informative.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Error
	bars should be clearly explained. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Proofread
	graphs. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Strive
	for clarity. </B></SPAN></FONT></FONT></FONT>
	</P>
</UL>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<U><B><SPAN STYLE="background: #ffff00">Scales</SPAN></B></U></SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Choose
	the range of the tick marks to include or nearly include the range
	of data.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Subject
	to the constraints that scales have, choose the scales so that the
	data fill up as much of the region as possible.</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>It
	is sometimes helpful to use the pair of scale lines for a variable
	to show two different scales. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Choose
	appropriate scales when graphs are compared. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Do
	not insist that zero always be included on a scale showing
	magnitude. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Use
	a logarithmic scale when it is important to understand percent
	change or multiplicative factors. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Showing
	data on a logarithmic scale can improve resolution. </B></SPAN></FONT></FONT></FONT>
	</P>
</UL>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<U><B><SPAN STYLE="background: #ffff00">General
strategy</SPAN></B></U><U><B> </B></U></SPAN></FONT></FONT></FONT>
</P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>A
	large amount of quantitative information can be packed into a small
	region. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Graphing
	data should be an interactive, experimental process. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Graph
	data two or more times when it is needed. </B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Many
	useful graphs require careful, detailed study.</B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P><FONT FACE="NewBaskerville-Roman, serif"><B>We
will see in the visualization process, as well as in the data
manipulation process that </B></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">both
are iterative</SPAN></B></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif"><B>
as we seek to maximize the amount of useful information we can
extract from the data an input in our machine learning algorithms.
Remember the adage about Garbage In -&gt; Garbage Out</B></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">.</FONT></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<LI><P><FONT COLOR="#ff0000"><B>The
		Grammar of Graphics</SPAN></B></FONT></FONT></FONT></P>
	</OL>
</OL>
<P>During
the visualization stage, we will look at a number of different types
of plots that will help us better visualize the data and help us to
discover details and trends of interest. Even though R has a basic
set of graphics that can be successfully used here, we will focus on
in this class is the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
R package and it is based on the book <U><B>The Grammar of Graphics</B></U>,
1999 by Leland Wilkinson
<A HREF="https://link.springer.com/book/10.1007%2F0-387-28695-0"><FONT FACE="NewBaskerville-Roman, serif">https://link.springer.com/book/10.1007%2F0-387-28695-0</FONT></A>.
</SPAN></FONT></FONT></FONT>
</P>
<P>The
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
package was written by Hadley Wickham and is based on the graphical
principles he laid out in his paper entitled “A Layered Grammar of
Graphics” <A HREF="http://vita.had.co.nz/papers/layered-grammar.pdf"><FONT FACE="NewBaskerville-Roman, serif">http://vita.had.co.nz/papers/layered-grammar.pdf</FONT></A>.
</SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P>In
this paper he spells out the <B>four primary components of a graph</B>:</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Data
	and aesthetic mappings</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Geometric
	objects</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Scales</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Facet
	specification</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P>Plus
2 addition supporting ones</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Statistical
	transformation</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Coordinate
	system</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><B>Together,
the data, mappings, statistical transformation, and geometric object
form a layer. A plot may have multiple layers, for example, when we
overlay a scatterplot with a smoothed line</B>. To be precise, the
layered grammar defines the components of a plot as:</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">A
	default dataset and set of mappings from variables to aesthetics</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">One
	or more layers, with each layer having one geometric object, one
	statistical transformation, one position adjustment, and optionally,
	one dataset and set of aesthetic mappings</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">One
	scale for each aesthetic mapping used</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">A
	coordinate system,</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">The
	facet specification</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<BR><BR>
</P>
<P><B>The
layer component is particularly important</B> as it determines the
physical representation of the data, with the combination of
statistics and geometry defining many familiar named graphics: the
scatterplot, histogram, contour plot, and so on. <B>In practice, many
plots have (at least) three layers: the data, context for the data,
and a statistical summary of the data</B>. For example, to visualize
a spatial point process, we might display the points themselves, a
map giving some spatial context, and the contours of a
two-dimensional density estimate. Usually all the layers on a plot
have something in common, typically that they are different views of
the same data, for example, a scatterplot with overlaid smoother.</SPAN></FONT></FONT></FONT></P>
<P><B><SPAN STYLE="background: #ffff00">Data</SPAN></B>
are obviously a critical part of the plot, but it is important to
remember <B>that they are independent from the other components</B>:
we can construct a graphic that can be applied to multiple datasets.
Data are what turns an abstract graphic into a concrete graphic.
<B>Along with the data, we need a specification of which variables
are mapped to which aesthetics</B>. For example, we might map weight
to x position, height to y position, and age to size. The details of
the mapping are described by the <B>scales</B>.</SPAN></FONT></FONT></FONT></P>
<P>A
<B><SPAN STYLE="background: #ffff00">statistical transformation</SPAN></B>,
or stat, transforms the data, typically by <B>summarizing them in
some manner</B>. For example, a useful stat is the smoother, which
calculates the mean of y, conditional on x, subject to some
restriction that ensures smoothness. <B>A stat takes a dataset as
input and returns a dataset as output</B>, and so a stat can add new
variables to the original dataset. It is possible to map aesthetics
to these new variables. For<B> </B>example, one way to describe a
histogram is as a binning of a continuous variable, plotted with bars
whose height is proportional to the number of points in each bin.
Another useful example is mapping the size (or color, or texture) of
the lines in a contour plot to the height of the contour. </SPAN></FONT></FONT></FONT>
</P>
<P><B><SPAN STYLE="background: #ffff00">Geometric
objects</SPAN></B>, or geoms for short, <B>control the type of plot
that you create</B>. For example, using a point geom will create a
scatterplot, whereas using a line geom will create a line plot. We
can classify geoms by their dimensionality:</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>0D:
	point, text</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>1D:
	path, line (ordered path)</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>2D:
	polygon, interval</B></SPAN></FONT></FONT></FONT></P>
</UL>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
<BR><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><B>Geoms</B></FONT></FONT></FONT>
are mostly general purpose, but do require certain outputs from a
statistic. For example, the boxplot geom requires the position of the
upper and lower fences, upper and lower hinges, the middle bar, and
the outliers. Any statistic used with the boxplot needs to provide
these values</FONT></FONT></FONT>. Every
geom has a default statistic, and every statistic a default geom. For
example, the bin statistic defaults to using the bar geom to produce
a histogram. Each geom can only display certain aesthetics. For
example, a point geom has position, color, shape, and size
aesthetics. A bar geom has position, height, width, and fill color.
Different parameterizations may be useful.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><B><SPAN STYLE="background: #ffff00">Position
adjustment</SPAN></B>; sometimes we need to tweak the position of the
geometric elements on the plot, when otherwise they would obscure
each other. This is most common in bar plots, where we stack or dodge
(place side-by-side) the bars to avoid overlaps. In scatterplots with
few unique x and y values, we sometimes <B>randomly jitter the points
to reduce overplotting</B>.</SPAN></FONT></FONT></FONT></P>
<P>A<B>
</B><B><SPAN STYLE="background: #ffff00">scale</SPAN></B> controls
the <B>mapping from data to aesthetic attributes</B>, and so we need
one scale for each aesthetic property used in a layer. Scales are
common across layers to ensure a consistent mapping from data to
aesthetics. Scales typically map from a single variable to a single
aesthetic, but there are exceptions. For example, we can map one
variable to hue and another to saturation, to create a single
aesthetic, color. We can also create redundant mappings, mapping the
same variable to multiple aesthetics. This is particularly useful
when producing a graphic that works in both color and black and white</SPAN></FONT></FONT></FONT></P>
<P>A
<B><SPAN STYLE="background: #ffff00">coordinate system</SPAN></B>,
coord for short, <B>maps the position of objects onto the plane of
the plot</B>. Position is often specified by two coordinates (x, y),
but could be any number of coordinates. The Cartesian coordinate
system is the most common coordinate system for two dimensions,
whereas polar coordinates and various map projections are used less
frequently. For higher dimensions, we have parallel coordinates (a
projective geometry), mosaic plots (a hierarchical coordinate
system), and linear projections onto the plane</SPAN></FONT></FONT></FONT></P>
<P><B>Coordinate
systems</B> affect all position variables simultaneously and <B>differ
from scales in that they also change the appearance of the geometric
objects.</B> For example, in polar coordinates, bar geoms look like
segments of a circle. Additionally, scaling is performed before
statistical transformation, whereas coordinate transformations occur
afterward. Coordinate systems also <B>control how the axes and grid
lines are drawn</B>. </SPAN></FONT></FONT></FONT>
</P>
<P><B><SPAN STYLE="background: #ffff00">Faceting</SPAN></B>
is a <B>more general case of the plots known as conditioned or
trellis plots and makes it easy to create small multiples of
different subsets of an entire dataset</B>. This is a powerful tool
<B>when investigating whether patterns are the same or different
across conditions</B>. The faceting specification describes which
variables should be used to split up the data, and how they should be
arranged.</SPAN></FONT></FONT></FONT></P>
<P><B>The
five major components of the layered grammar described above allow us
to completely and explicitly describe a wide range of graphics</B>.
However, having to describe every component, every time, quickly
becomes tiresome. What is used in <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
is <B>a </B><B><SPAN STYLE="background: #ffff00">hierarchy of
defaults</SPAN></B> that simplify the work of making a plot. We will
now work an example showing how </SPAN></FONT></FONT></FONT>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">We
now investigate the principle types of visualizations we will create
with ggplot2 (from
</FONT></FONT></FONT><A HREF="https://www.r-bloggers.com/7-visualizations-you-should-learn-in-r/"><FONT FACE="NewBaskerville-Roman, serif">https://www.r-bloggers.com/7-visualizations-you-should-learn-in-r/</FONT></FONT></A><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
).</FONT></FONT></FONT></P>
<P>The
first step is to selecting the right chart type, and there are
generally four basic presentation types:</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Comparison</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Composition</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Distribution</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Relationship</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P>To
determine which amongst these is best suited for your data, you need
to answer a few questions like,</SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>How
	many variables do you want to show in a single chart?</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>How
	many data points will you display for each variable?</B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B>Will
	you display values over a period of time, or among items or groups?</B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P>Below
is a good graphic on selecting the&nbsp;<A HREF="http://extremepresentation.typepad.com/.shared/image.html?/photos/uncategorized/choosing_a_good_chart.jpg"><SPAN STYLE="text-decoration: none">best
chart type</SPAN></FONT></A>&nbsp;by Dr. Andrew Abela from
<A HREF="http://extremepresentation.typepad.com/.shared/image.html?/photos/uncategorized/choosing_a_good_chart.jpg"><FONT SIZE=2 STYLE="font-size: 10pt">http://extremepresentation.typepad.com/.shared/image.html?/photos/uncategorized/choosing_a_good_chart.jpg</FONT></A><FONT COLOR="#000000"><FONT SIZE=2 STYLE="font-size: 10pt">
<IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_3369a24d.jpg" NAME="Picture 140" ALIGN=BOTTOM WIDTH=681 HEIGHT=565 BORDER=0></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><B>In
data visualizations there are basically 7 elementary types of charts
which we will discuss in the next couple of sections</B>: </SPAN></FONT></FONT></FONT>
</P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Scatter
	Plot</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Histogram</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Bar
	&amp; Stack Bar Chart</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Box
	Plot</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Area
	Chart (or Density Plot)</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Heat
	Map</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Correlogram</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><B>To
demonstrate these chart types we will utilize</B> the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2
</SPAN></B></FONT></FONT></FONT>package and its accompanying<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>
diamonds</SPAN></B></FONT></FONT></FONT> data set. First you need to
install and load the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
package as we did with the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>validate</SPAN></B></FONT></FONT></FONT>
package in the previous section.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>install.packages(&quot;ggplot2&quot;)
 <FONT SIZE=1 STYLE="font-size: 8pt"># This step can be done inside
RStudio -&gt; Tools -&gt; Install Packages</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>library(&quot;ggplot2&quot;)	
     # Loads the package from your installation directory – </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<BR>
</P>
<P><B><SPAN STYLE="background: #00ff00">IMPORTANT
REMINDER – you will need to run the </SPAN></B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><SPAN STYLE="background: #00ff00">library</SPAN></SPAN></B></FONT></FONT></FONT><B><SPAN STYLE="background: #00ff00">
command or select the package in RStudio each time you re-start R or
RStudio in order for its functions to be available for use in R.</SPAN></B><B>
</B></SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><B>A
good block of code to keep on hand lists out all your installed
packages – especially if you don’t have RStudio running.</B></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ip
&lt;- as.data.frame(installed.packages()[,c(1,3:4)])</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>rownames(ip)
&lt;- NULL</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ip
&lt;- ip[is.na(ip$Priority),1:2,drop=FALSE]</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>print(ip,
row.names=FALSE)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
     <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Package
Version</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
  <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">colorspace
  1.3-2</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
        <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">curl
    2.4</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
   <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">dichromat
  2.0-0</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
      <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">digest
 0.6.12</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
     <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">ggplot2
  2.2.1</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
      <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">gtable
  0.2.0</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
    <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">labeling
    0.3</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
    <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">lazyeval
  0.2.0</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
    <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">magrittr
    1.5</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
     <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">munsell
  0.4.3</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
        <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">plyr
  1.8.4</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">RColorBrewer
  1.1-2</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
    <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">reshape2
  1.4.2</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
      <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">scales
  0.4.1</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
     <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">stringi
  1.1.5</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
     <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">stringr
  1.2.0</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
      <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">tibble
  1.3.0</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 100%">
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">translations
  3.3.3</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P STYLE="margin-bottom: 0.11in; page-break-before: always">The
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>diamonds</SPAN></B></FONT></FONT></FONT>
data set we will be using consists of prices and quality information
about <B>54,000 diamonds</B>, and is included in the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
package. The data contains the four C’s of a diamond <B>quality,
carat, cut, color and clarity; and five physical measurements, depth,
table, x, y and z, </B>as described in the figure below, see
<A HREF="http://ggplot2.org/book/qplot.pdf">http://ggplot2.org/book/qplot.pdf</A>.
</SPAN></FONT></FONT></FONT>
</P>
<P>Below
are more details on this dataframe:</SPAN></FONT></FONT></FONT></P>
<P>53940
rows and 10 variables:</SPAN></FONT></FONT></FONT></P>
<P><B>price
- </B>price in US dollars (from $326 to $18,823) – <B><SPAN STYLE="background: #ffff00">this
is generally your Y or response variable</SPAN></B></SPAN></FONT></FONT></FONT></P>
<P><B>carat
- </B>weight of the diamond (0.2--5.01)</SPAN></FONT></FONT></FONT></P>
<P><B>cut
- </B>quality of the cut (Fair, Good, Very Good, Premium, <B>Ideal</B>)</SPAN></FONT></FONT></FONT></P>
<P><B>color
- </B>diamond colour, from J (worst) to <B>D (best)</B></SPAN></FONT></FONT></FONT></P>
<P><B>clarity
- </B>a measurement of how clear the diamond is (I1 (worst), SI2,
SI1, VS2, VS1, VVS2, VVS1, <B>IF (best</B>))</SPAN></FONT></FONT></FONT></P>
<P><B>x
- </B>length in mm (0--10.74)</SPAN></FONT></FONT></FONT></P>
<P><B>y</B>
- width in mm (0--58.9)</SPAN></FONT></FONT></FONT></P>
<P><B>z</B>
- depth in mm (0--31.8)</SPAN></FONT></FONT></FONT></P>
<P><B>depth
- </B>total depth percentage = z / mean(x, y) = 2 * z / (x + y)
(43--79)</SPAN></FONT></FONT></FONT></P>
<P><B>table
- </B>width of top of diamond relative to widest point (43--95)</SPAN></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_4c155d6c.png" NAME="Picture 15" ALIGN=BOTTOM WIDTH=688 HEIGHT=351 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">First
we check its data type since </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
requires data be in a </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>data.frame</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>is.data.frame(diamonds)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">[1]
TRUE</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">We
next look at the first few rows of the data using the following
command</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>head(diamonds)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=1 STYLE="font-size: 8pt">#
A tibble: 6 × 10</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
 <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">carat
      cut color clarity depth table price     x     y     z</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
 <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">&lt;dbl&gt;
    &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt;
&lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=1 STYLE="font-size: 8pt">1
 0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=1 STYLE="font-size: 8pt">2
 0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=1 STYLE="font-size: 8pt">3
 0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=1 STYLE="font-size: 8pt">4
 0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=1 STYLE="font-size: 8pt">5
 0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=1 STYLE="font-size: 8pt">6
 0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P><B>Next
verify what data type each variable is by using – </B>this is
important because different types of data types can be plotted in
different ways.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>str(diamonds)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">Classes
‘tbl_df’, ‘tbl’ and 'data.frame':	53940 obs. of  10
variables:</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
carat  : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">num</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
 0.23 0.21 0.23 0.29 0.31 0.24 0.24 0.26 0.22 0.23 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
cut    : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">Ord.factor
w/ 5 levels</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
&quot;Fair&quot;&lt;&quot;Good&quot;&lt;..: 5 4 2 4 2 3 3 3 1 3 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
color  : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">Ord.factor
w/ 7 levels</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
&quot;D&quot;&lt;&quot;E&quot;&lt;&quot;F&quot;&lt;&quot;G&quot;&lt;..:
2 2 2 6 7 7 6 5 2 5 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
clarity: </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">Ord.factor
w/ 8 levels</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
&quot;I1&quot;&lt;&quot;SI2&quot;&lt;&quot;SI1&quot;&lt;..: 2 3 5 4 2
6 7 3 4 5 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
depth  : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">num</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
 61.5 59.8 56.9 62.4 63.3 62.8 62.3 61.9 65.1 59.4 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
table  : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">num</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
 55 61 65 58 58 57 57 55 61 61 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
price  : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">int</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
 326 326 327 334 335 336 336 337 337 338 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
x      : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">num</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
 3.95 3.89 4.05 4.2 4.34 3.94 3.95 4.07 3.87 4 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
y      : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">num</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
 3.98 3.84 4.07 4.23 4.35 3.96 3.98 4.11 3.78 4.05 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">$
z      : </FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt"><SPAN STYLE="background: #ffff00">num</SPAN></FONT></FONT><FONT COLOR="#00b050"><FONT SIZE=2 STYLE="font-size: 9pt">
 2.43 2.31 2.31 2.63 2.75 2.48 2.47 2.53 2.49 2.39 ...</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P><B>We
will now create a smaller sub-set of the diamonds dataframe for
demonstration purposes in the following sections which will speed the
R calculations and shrink the file size of the plots. </B></SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>set.seed(1311)
  # Use to make the sub-sample reproducible</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>dsmall
&lt;- diamonds[sample(nrow(diamonds), 500), ]</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">Before
we continue download and print out the two page ggplot2 cheatsheet
and use it as a reference for the following sections</SPAN></B></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif"><B>
(</B></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">from
</FONT></FONT><A HREF="https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf"><FONT FACE="NewBaskerville-Roman, serif">https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf</FONT></A><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
) - </FONT></FONT></SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif"><B>See
next page and review</B></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_c6cf074a.png" NAME="Picture 7" ALIGN=BOTTOM WIDTH=710 HEIGHT=544 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_efc31136.png" NAME="Picture 9" ALIGN=BOTTOM WIDTH=709 HEIGHT=556 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>There
is a lot of information on ggplot2 available on-line, one good source
is located at <A HREF="http://ms.mcmaster.ca/~bolker/misc/ggplot2-book.pdf">http://ms.mcmaster.ca/~bolker/misc/ggplot2-book.pdf</A>
</SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P>Go
here for more details on the use of color in ggplot2 (more on this
shortly)</FONT></FONT></FONT></P>
<P><A HREF="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/"><B>http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/</B></FONT></FONT></A><FONT COLOR="#ff0000"><B>
</B></FONT></FONT></FONT></FONT><FONT COLOR="#ff0000"><B>
  </SPAN></B></FONT></FONT></FONT><A HREF="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf"><B>http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</SPAN></B></FONT></FONT></A><FONT COLOR="#ff0000"><B>
</SPAN></B></FONT></FONT></FONT>
</P>
<P><B><A HREF="http://cloford.com/resources/colours/500col.htm">http://cloford.com/resources/colours/500col.htm</A>
 </B></FONT></FONT>for
500 different hex colors</FONT></FONT></P>
<P><B><A HREF="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</A>
 <A HREF="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">http://sape.inf.usi.ch/quick-reference/ggplot2/colour</A>
</B></FONT></FONT>
</P>
<P><A HREF="https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf"><B>https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf</B></FONT></FONT></A></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=3>
			<LI><P><FONT COLOR="#ff0000"><B>Visualization
			of a Single Continous Variable using Histograms</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">Visualizations
of a single variable are useful for data verification especially for
identifying invalid or extreme values that could distort you analyses
later on. We introduced this concept in the previous chapter in the
Univariate Statistics section. </FONT></FONT></SPAN></FONT></FONT></FONT>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">We
begin our visualization by exploring each of the numerical variables
in the </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>dsmall</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
dataframe using histograms and we will focus primarily on </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
and </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">.
</FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif"><B>A
h</B></FONT></FONT><B>istogram is used to plot continuous variables</B>
and it breaks the data into bins and shows the frequency distribution
of these bins. We can always change the bin size and see the effect
it has on visualization as we will demonstrate below. </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#000000">What
will we be looking for in these single variables plots (f</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">rom
</FONT></FONT></FONT><FONT COLOR="#0000ff"><U>Practical
Data Science with R</U></FONT></FONT></FONT></FONT><FONT COLOR="#0000ff">
by N Zumel and J. Mount, 2014</FONT></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">)?
</FONT></FONT></FONT>
</P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">What
	is the peak value of the distribution?</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">How
	many peaks are there in the distribution (unimodality or single
	population versus bimodality or multiple populations)?</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">How
	normal (i.e., Gaussian or bell curve) or lognormal is the data? </SPAN></B></SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">How
	much does the data vary? Is it concentrated in a certain interval or
	in a certain category?</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif"><B>Note
the indentation in the code to make things more clear (not required)
and when you run the code in the bottom left of your RStudio screen,
the resulting plot should appear in the Plot window on the bottom
right screen. If you want to copy the plot into another document –
pull down the Export menu on the bottom right screen and select Save
as Image and right mouse in the pop-up screen and Copy Image then
paste where desired. You can also Save as PDF to a folder.</B></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">We
begin with a basic histogram of </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat
</SPAN></B></FONT></FONT></FONT>and
from our cheatsheet we see the following</FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#385623">geom_histogram(binwidth
= 5) x, y, alpha, color, fill, linetype, size, weight</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#385623">b
+ geom_histogram(aes(y = ..density..)</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_<SPAN STYLE="background: #ffff00">histogram</SPAN>(<SPAN STYLE="background: #ffff00">aes</SPAN>(<SPAN STYLE="background: #ffff00">x</SPAN>=carat),
<SPAN STYLE="background: #ffff00">fill</SPAN>=&quot;gray&quot;)  <FONT COLOR="#ff0000">#
WARNING ABOUT double quotes in R</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_a2d26705.png" NAME="Picture 5" ALIGN=BOTTOM WIDTH=562 HEIGHT=359 BORDER=0></SPAN></FONT></P>
<P><B>Note
R has 657 built-in color names and these can be found by entering the
following code</B></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>colors()</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[</FONT></FONT><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">1]
&quot;white&quot;                &quot;aliceblue&quot;           
&quot;antiquewhite&quot;         &quot;antiquewhite1&quot;       
&quot;antiquewhite2&quot;        &quot;antiquewhite3&quot;       </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
 <FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[7]
&quot;antiquewhite4&quot;        &quot;aquamarine&quot;          
&quot;aquamarine1&quot;          &quot;aquamarine2&quot;         
&quot;aquamarine3&quot;          &quot;aquamarine4&quot;         </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[13]
&quot;azure&quot;                &quot;azure1&quot;              
&quot;azure2&quot;               &quot;azure3&quot;              
&quot;azure4&quot;               &quot;beige&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[19]
&quot;bisque&quot;               &quot;bisque1&quot;             
&quot;bisque2&quot;              &quot;bisque3&quot;             
&quot;bisque4&quot;              &quot;black&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[25]
&quot;blanchedalmond&quot;       &quot;blue&quot;                
&quot;blue1&quot;                &quot;blue2&quot;               
&quot;blue3&quot;                &quot;blue4&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[31]
&quot;blueviolet&quot;           &quot;brown&quot;               
&quot;brown1&quot;               &quot;brown2&quot;              
&quot;brown3&quot;               &quot;brown4&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[37]
&quot;burlywood&quot;            &quot;burlywood1&quot;          
&quot;burlywood2&quot;           &quot;burlywood3&quot;          
&quot;burlywood4&quot;           &quot;cadetblue&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[43]
&quot;cadetblue1&quot;           &quot;cadetblue2&quot;          
&quot;cadetblue3&quot;           &quot;cadetblue4&quot;          
&quot;chartreuse&quot;           &quot;chartreuse1&quot;         </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[49]
&quot;chartreuse2&quot;          &quot;chartreuse3&quot;         
&quot;chartreuse4&quot;          &quot;chocolate&quot;           
&quot;chocolate1&quot;           &quot;chocolate2&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[55]
&quot;chocolate3&quot;           &quot;chocolate4&quot;          
&quot;coral&quot;                &quot;coral1&quot;              
&quot;coral2&quot;               &quot;coral3&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[61]
&quot;coral4&quot;               &quot;cornflowerblue&quot;      
&quot;cornsilk&quot;             &quot;cornsilk1&quot;           
&quot;cornsilk2&quot;            &quot;cornsilk3&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[67]
&quot;cornsilk4&quot;            &quot;cyan&quot;                
&quot;cyan1&quot;                &quot;cyan2&quot;               
&quot;cyan3&quot;                &quot;cyan4&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[73]
&quot;darkblue&quot;             &quot;darkcyan&quot;            
&quot;darkgoldenrod&quot;        &quot;darkgoldenrod1&quot;      
&quot;darkgoldenrod2&quot;       &quot;darkgoldenrod3&quot;      </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[79]
&quot;darkgoldenrod4&quot;       &quot;darkgray&quot;            
&quot;darkgreen&quot;            &quot;darkgrey&quot;            
&quot;darkkhaki&quot;            &quot;darkmagenta&quot;         </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[85]
&quot;darkolivegreen&quot;       &quot;darkolivegreen1&quot;     
&quot;darkolivegreen2&quot;      &quot;darkolivegreen3&quot;     
&quot;darkolivegreen4&quot;      &quot;darkorange&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[91]
&quot;darkorange1&quot;          &quot;darkorange2&quot;         
&quot;darkorange3&quot;          &quot;darkorange4&quot;         
&quot;darkorchid&quot;           &quot;darkorchid1&quot;         </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[97]
&quot;darkorchid2&quot;          &quot;darkorchid3&quot;         
&quot;darkorchid4&quot;          &quot;darkred&quot;             
&quot;darksalmon&quot;           &quot;darkseagreen&quot;        </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[103]
&quot;darkseagreen1&quot;        &quot;darkseagreen2&quot;       
&quot;darkseagreen3&quot;        &quot;darkseagreen4&quot;       
&quot;darkslateblue&quot;        &quot;darkslategray&quot;       </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[109]
&quot;darkslategray1&quot;       &quot;darkslategray2&quot;      
&quot;darkslategray3&quot;       &quot;darkslategray4&quot;      
&quot;darkslategrey&quot;        &quot;darkturquoise&quot;       </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[115]
&quot;darkviolet&quot;           &quot;deeppink&quot;            
&quot;deeppink1&quot;            &quot;deeppink2&quot;           
&quot;deeppink3&quot;            &quot;deeppink4&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[121]
&quot;deepskyblue&quot;          &quot;deepskyblue1&quot;        
&quot;deepskyblue2&quot;         &quot;deepskyblue3&quot;        
&quot;deepskyblue4&quot;         &quot;dimgray&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[127]
&quot;dimgrey&quot;              &quot;dodgerblue&quot;          
&quot;dodgerblue1&quot;          &quot;dodgerblue2&quot;         
&quot;dodgerblue3&quot;          &quot;dodgerblue4&quot;         </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[133]
&quot;firebrick&quot;            &quot;firebrick1&quot;          
&quot;firebrick2&quot;           &quot;firebrick3&quot;          
&quot;firebrick4&quot;           &quot;floralwhite&quot;         </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[139]
&quot;forestgreen&quot;          &quot;gainsboro&quot;           
&quot;ghostwhite&quot;           &quot;gold&quot;                
&quot;gold1&quot;                &quot;gold2&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[145]
&quot;gold3&quot;                &quot;gold4&quot;               
&quot;goldenrod&quot;            &quot;goldenrod1&quot;          
&quot;goldenrod2&quot;           &quot;goldenrod3&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[151]
&quot;goldenrod4&quot;           &quot;gray&quot;                
&quot;gray0&quot;                &quot;gray1&quot;               
&quot;gray2&quot;                &quot;gray3&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[157]
&quot;gray4&quot;                &quot;gray5&quot;               
&quot;gray6&quot;                &quot;gray7&quot;               
&quot;gray8&quot;                &quot;gray9&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[163]
&quot;gray10&quot;               &quot;gray11&quot;              
&quot;gray12&quot;               &quot;gray13&quot;              
&quot;gray14&quot;               &quot;gray15&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[169]
&quot;gray16&quot;               &quot;gray17&quot;              
&quot;gray18&quot;               &quot;gray19&quot;              
&quot;gray20&quot;               &quot;gray21&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[175]
&quot;gray22&quot;               &quot;gray23&quot;              
&quot;gray24&quot;               &quot;gray25&quot;              
&quot;gray26&quot;               &quot;gray27&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[181]
&quot;gray28&quot;               &quot;gray29&quot;              
&quot;gray30&quot;               &quot;gray31&quot;              
&quot;gray32&quot;               &quot;gray33&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[187]
&quot;gray34&quot;               &quot;gray35&quot;              
&quot;gray36&quot;               &quot;gray37&quot;              
&quot;gray38&quot;               &quot;gray39&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[193]
&quot;gray40&quot;               &quot;gray41&quot;              
&quot;gray42&quot;               &quot;gray43&quot;              
&quot;gray44&quot;               &quot;gray45&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[199]
&quot;gray46&quot;               &quot;gray47&quot;              
&quot;gray48&quot;               &quot;gray49&quot;              
&quot;gray50&quot;               &quot;gray51&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[205]
&quot;gray52&quot;               &quot;gray53&quot;              
&quot;gray54&quot;               &quot;gray55&quot;              
&quot;gray56&quot;               &quot;gray57&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[211]
&quot;gray58&quot;               &quot;gray59&quot;              
&quot;gray60&quot;               &quot;gray61&quot;              
&quot;gray62&quot;               &quot;gray63&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[217]
&quot;gray64&quot;               &quot;gray65&quot;              
&quot;gray66&quot;               &quot;gray67&quot;              
&quot;gray68&quot;               &quot;gray69&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[223]
&quot;gray70&quot;               &quot;gray71&quot;              
&quot;gray72&quot;               &quot;gray73&quot;              
&quot;gray74&quot;               &quot;gray75&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[229]
&quot;gray76&quot;               &quot;gray77&quot;              
&quot;gray78&quot;               &quot;gray79&quot;              
&quot;gray80&quot;               &quot;gray81&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[235]
&quot;gray82&quot;               &quot;gray83&quot;              
&quot;gray84&quot;               &quot;gray85&quot;              
&quot;gray86&quot;               &quot;gray87&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[241]
&quot;gray88&quot;               &quot;gray89&quot;              
&quot;gray90&quot;               &quot;gray91&quot;              
&quot;gray92&quot;               &quot;gray93&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[247]
&quot;gray94&quot;               &quot;gray95&quot;              
&quot;gray96&quot;               &quot;gray97&quot;              
&quot;gray98&quot;               &quot;gray99&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[253]
&quot;gray100&quot;              &quot;green&quot;               
&quot;green1&quot;               &quot;green2&quot;              
&quot;green3&quot;               &quot;green4&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[259]
&quot;greenyellow&quot;          &quot;grey&quot;                
&quot;grey0&quot;                &quot;grey1&quot;               
&quot;grey2&quot;                &quot;grey3&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[265]
&quot;grey4&quot;                &quot;grey5&quot;               
&quot;grey6&quot;                &quot;grey7&quot;               
&quot;grey8&quot;                &quot;grey9&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[271]
&quot;grey10&quot;               &quot;grey11&quot;              
&quot;grey12&quot;               &quot;grey13&quot;              
&quot;grey14&quot;               &quot;grey15&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[277]
&quot;grey16&quot;               &quot;grey17&quot;              
&quot;grey18&quot;               &quot;grey19&quot;              
&quot;grey20&quot;               &quot;grey21&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[283]
&quot;grey22&quot;               &quot;grey23&quot;              
&quot;grey24&quot;               &quot;grey25&quot;              
&quot;grey26&quot;               &quot;grey27&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[289]
&quot;grey28&quot;               &quot;grey29&quot;              
&quot;grey30&quot;               &quot;grey31&quot;              
&quot;grey32&quot;               &quot;grey33&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[295]
&quot;grey34&quot;               &quot;grey35&quot;              
&quot;grey36&quot;               &quot;grey37&quot;              
&quot;grey38&quot;               &quot;grey39&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[301]
&quot;grey40&quot;               &quot;grey41&quot;              
&quot;grey42&quot;               &quot;grey43&quot;              
&quot;grey44&quot;               &quot;grey45&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[307]
&quot;grey46&quot;               &quot;grey47&quot;              
&quot;grey48&quot;               &quot;grey49&quot;              
&quot;grey50&quot;               &quot;grey51&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[313]
&quot;grey52&quot;               &quot;grey53&quot;              
&quot;grey54&quot;               &quot;grey55&quot;              
&quot;grey56&quot;               &quot;grey57&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[319]
&quot;grey58&quot;               &quot;grey59&quot;              
&quot;grey60&quot;               &quot;grey61&quot;              
&quot;grey62&quot;               &quot;grey63&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[325]
&quot;grey64&quot;               &quot;grey65&quot;              
&quot;grey66&quot;               &quot;grey67&quot;              
&quot;grey68&quot;               &quot;grey69&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[331]
&quot;grey70&quot;               &quot;grey71&quot;              
&quot;grey72&quot;               &quot;grey73&quot;              
&quot;grey74&quot;               &quot;grey75&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[337]
&quot;grey76&quot;               &quot;grey77&quot;              
&quot;grey78&quot;               &quot;grey79&quot;              
&quot;grey80&quot;               &quot;grey81&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[343]
&quot;grey82&quot;               &quot;grey83&quot;              
&quot;grey84&quot;               &quot;grey85&quot;              
&quot;grey86&quot;               &quot;grey87&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[349]
&quot;grey88&quot;               &quot;grey89&quot;              
&quot;grey90&quot;               &quot;grey91&quot;              
&quot;grey92&quot;               &quot;grey93&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[355]
&quot;grey94&quot;               &quot;grey95&quot;              
&quot;grey96&quot;               &quot;grey97&quot;              
&quot;grey98&quot;               &quot;grey99&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[361]
&quot;grey100&quot;              &quot;honeydew&quot;            
&quot;honeydew1&quot;            &quot;honeydew2&quot;           
&quot;honeydew3&quot;            &quot;honeydew4&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[367]
&quot;hotpink&quot;              &quot;hotpink1&quot;            
&quot;hotpink2&quot;             &quot;hotpink3&quot;            
&quot;hotpink4&quot;             &quot;indianred&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[373]
&quot;indianred1&quot;           &quot;indianred2&quot;          
&quot;indianred3&quot;           &quot;indianred4&quot;          
&quot;ivory&quot;                &quot;ivory1&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[379]
&quot;ivory2&quot;               &quot;ivory3&quot;              
&quot;ivory4&quot;               &quot;khaki&quot;               
&quot;khaki1&quot;               &quot;khaki2&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[385]
&quot;khaki3&quot;               &quot;khaki4&quot;              
&quot;lavender&quot;             &quot;lavenderblush&quot;       
&quot;lavenderblush1&quot;       &quot;lavenderblush2&quot;      </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[391]
&quot;lavenderblush3&quot;       &quot;lavenderblush4&quot;      
&quot;lawngreen&quot;            &quot;lemonchiffon&quot;        
&quot;lemonchiffon1&quot;        &quot;lemonchiffon2&quot;       </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[397]
&quot;lemonchiffon3&quot;        &quot;lemonchiffon4&quot;       
&quot;lightblue&quot;            &quot;lightblue1&quot;          
&quot;lightblue2&quot;           &quot;lightblue3&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[403]
&quot;lightblue4&quot;           &quot;lightcoral&quot;          
&quot;lightcyan&quot;            &quot;lightcyan1&quot;          
&quot;lightcyan2&quot;           &quot;lightcyan3&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[409]
&quot;lightcyan4&quot;           &quot;lightgoldenrod&quot;      
&quot;lightgoldenrod1&quot;      &quot;lightgoldenrod2&quot;     
&quot;lightgoldenrod3&quot;      &quot;lightgoldenrod4&quot;     </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[415]
&quot;lightgoldenrodyellow&quot; &quot;lightgray&quot;           
&quot;lightgreen&quot;           &quot;lightgrey&quot;           
&quot;lightpink&quot;            &quot;lightpink1&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[421]
&quot;lightpink2&quot;           &quot;lightpink3&quot;          
&quot;lightpink4&quot;           &quot;lightsalmon&quot;         
&quot;lightsalmon1&quot;         &quot;lightsalmon2&quot;        </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[427]
&quot;lightsalmon3&quot;         &quot;lightsalmon4&quot;        
&quot;lightseagreen&quot;        &quot;lightskyblue&quot;        
&quot;lightskyblue1&quot;        &quot;lightskyblue2&quot;       </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[433]
&quot;lightskyblue3&quot;        &quot;lightskyblue4&quot;       
&quot;lightslateblue&quot;       &quot;lightslategray&quot;      
&quot;lightslategrey&quot;       &quot;lightsteelblue&quot;      </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[439]
&quot;lightsteelblue1&quot;      &quot;lightsteelblue2&quot;     
&quot;lightsteelblue3&quot;      &quot;lightsteelblue4&quot;     
&quot;lightyellow&quot;          &quot;lightyellow1&quot;        </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[445]
&quot;lightyellow2&quot;         &quot;lightyellow3&quot;        
&quot;lightyellow4&quot;         &quot;limegreen&quot;           
&quot;linen&quot;                &quot;magenta&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[451]
&quot;magenta1&quot;             &quot;magenta2&quot;            
&quot;magenta3&quot;             &quot;magenta4&quot;            
&quot;maroon&quot;               &quot;maroon1&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[457]
&quot;maroon2&quot;              &quot;maroon3&quot;             
&quot;maroon4&quot;              &quot;mediumaquamarine&quot;    
&quot;mediumblue&quot;           &quot;mediumorchid&quot;        </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[463]
&quot;mediumorchid1&quot;        &quot;mediumorchid2&quot;       
&quot;mediumorchid3&quot;        &quot;mediumorchid4&quot;       
&quot;mediumpurple&quot;         &quot;mediumpurple1&quot;       </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[469]
&quot;mediumpurple2&quot;        &quot;mediumpurple3&quot;       
&quot;mediumpurple4&quot;        &quot;mediumseagreen&quot;      
&quot;mediumslateblue&quot;      &quot;mediumspringgreen&quot;   </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[475]
&quot;mediumturquoise&quot;      &quot;mediumvioletred&quot;     
&quot;midnightblue&quot;         &quot;mintcream&quot;           
&quot;mistyrose&quot;            &quot;mistyrose1&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[481]
&quot;mistyrose2&quot;           &quot;mistyrose3&quot;          
&quot;mistyrose4&quot;           &quot;moccasin&quot;            
&quot;navajowhite&quot;          &quot;navajowhite1&quot;        </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[487]
&quot;navajowhite2&quot;         &quot;navajowhite3&quot;        
&quot;navajowhite4&quot;         &quot;navy&quot;                
&quot;navyblue&quot;             &quot;oldlace&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[493]
&quot;olivedrab&quot;            &quot;olivedrab1&quot;          
&quot;olivedrab2&quot;           &quot;olivedrab3&quot;          
&quot;olivedrab4&quot;           &quot;orange&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[499]
&quot;orange1&quot;              &quot;orange2&quot;             
&quot;orange3&quot;              &quot;orange4&quot;             
&quot;orangered&quot;            &quot;orangered1&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[505]
&quot;orangered2&quot;           &quot;orangered3&quot;          
&quot;orangered4&quot;           &quot;orchid&quot;              
&quot;orchid1&quot;              &quot;orchid2&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[511]
&quot;orchid3&quot;              &quot;orchid4&quot;             
&quot;palegoldenrod&quot;        &quot;palegreen&quot;           
&quot;palegreen1&quot;           &quot;palegreen2&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[517]
&quot;palegreen3&quot;           &quot;palegreen4&quot;          
&quot;paleturquoise&quot;        &quot;paleturquoise1&quot;      
&quot;paleturquoise2&quot;       &quot;paleturquoise3&quot;      </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[523]
&quot;paleturquoise4&quot;       &quot;palevioletred&quot;       
&quot;palevioletred1&quot;       &quot;palevioletred2&quot;      
&quot;palevioletred3&quot;       &quot;palevioletred4&quot;      </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[529]
&quot;papayawhip&quot;           &quot;peachpuff&quot;           
&quot;peachpuff1&quot;           &quot;peachpuff2&quot;          
&quot;peachpuff3&quot;           &quot;peachpuff4&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[535]
&quot;peru&quot;                 &quot;pink&quot;                
&quot;pink1&quot;                &quot;pink2&quot;               
&quot;pink3&quot;                &quot;pink4&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[541]
&quot;plum&quot;                 &quot;plum1&quot;               
&quot;plum2&quot;                &quot;plum3&quot;               
&quot;plum4&quot;                &quot;powderblue&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[547]
&quot;purple&quot;               &quot;purple1&quot;             
&quot;purple2&quot;              &quot;purple3&quot;             
&quot;purple4&quot;              &quot;red&quot;                 </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[553]
&quot;red1&quot;                 &quot;red2&quot;                
&quot;red3&quot;                 &quot;red4&quot;                
&quot;rosybrown&quot;            &quot;rosybrown1&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[559]
&quot;rosybrown2&quot;           &quot;rosybrown3&quot;          
&quot;rosybrown4&quot;           &quot;royalblue&quot;           
&quot;royalblue1&quot;           &quot;royalblue2&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[565]
&quot;royalblue3&quot;           &quot;royalblue4&quot;          
&quot;saddlebrown&quot;          &quot;salmon&quot;              
&quot;salmon1&quot;              &quot;salmon2&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[571]
&quot;salmon3&quot;              &quot;salmon4&quot;             
&quot;sandybrown&quot;           &quot;seagreen&quot;            
&quot;seagreen1&quot;            &quot;seagreen2&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[577]
&quot;seagreen3&quot;            &quot;seagreen4&quot;           
&quot;seashell&quot;             &quot;seashell1&quot;           
&quot;seashell2&quot;            &quot;seashell3&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[583]
&quot;seashell4&quot;            &quot;sienna&quot;              
&quot;sienna1&quot;              &quot;sienna2&quot;             
&quot;sienna3&quot;              &quot;sienna4&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[589]
&quot;skyblue&quot;              &quot;skyblue1&quot;            
&quot;skyblue2&quot;             &quot;skyblue3&quot;            
&quot;skyblue4&quot;             &quot;slateblue&quot;           </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[595]
&quot;slateblue1&quot;           &quot;slateblue2&quot;          
&quot;slateblue3&quot;           &quot;slateblue4&quot;          
&quot;slategray&quot;            &quot;slategray1&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[601]
&quot;slategray2&quot;           &quot;slategray3&quot;          
&quot;slategray4&quot;           &quot;slategrey&quot;           
&quot;snow&quot;                 &quot;snow1&quot;               </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[607]
&quot;snow2&quot;                &quot;snow3&quot;               
&quot;snow4&quot;                &quot;springgreen&quot;         
&quot;springgreen1&quot;         &quot;springgreen2&quot;        </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[613]
&quot;springgreen3&quot;         &quot;springgreen4&quot;        
&quot;steelblue&quot;            &quot;steelblue1&quot;          
&quot;steelblue2&quot;           &quot;steelblue3&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[619]
&quot;steelblue4&quot;           &quot;tan&quot;                 
&quot;tan1&quot;                 &quot;tan2&quot;                
&quot;tan3&quot;                 &quot;tan4&quot;                </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[625]
&quot;thistle&quot;              &quot;thistle1&quot;            
&quot;thistle2&quot;             &quot;thistle3&quot;            
&quot;thistle4&quot;             &quot;tomato&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[631]
&quot;tomato1&quot;              &quot;tomato2&quot;             
&quot;tomato3&quot;              &quot;tomato4&quot;             
&quot;turquoise&quot;            &quot;turquoise1&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[637]
&quot;turquoise2&quot;           &quot;turquoise3&quot;          
&quot;turquoise4&quot;           &quot;violet&quot;              
&quot;violetred&quot;            &quot;violetred1&quot;          </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[643]
&quot;violetred2&quot;           &quot;violetred3&quot;          
&quot;violetred4&quot;           &quot;wheat&quot;               
&quot;wheat1&quot;               &quot;wheat2&quot;              </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[649]
&quot;wheat3&quot;               &quot;wheat4&quot;              
&quot;whitesmoke&quot;           &quot;yellow&quot;              
&quot;yellow1&quot;              &quot;yellow2&quot;             </FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#00b050"><FONT FACE="Lucida Console, serif"><FONT SIZE=1 STYLE="font-size: 6pt">[655]
&quot;yellow3&quot;              &quot;yellow4&quot;</FONT></FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P>A
figure of them can be found at
<A HREF="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">http://sape.inf.usi.ch/quick-reference/ggplot2/colour</A>
and is shown on the next page. The code to generate this in <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
is shown below</SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">The
figure on the previous page was generated in </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
using</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">d=data.frame(c=colors(),
y=seq(0, length(colors())-1)%%66, </FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">	x=seq(0,
length(colors())-1)%/%66) </FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">ggplot()
+</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">scale_x_continuous(name=&quot;&quot;,
breaks=NULL, expand=c(0, 0)) +</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">scale_y_continuous(name=&quot;&quot;,
breaks=NULL, expand=c(0, 0)) +</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">scale_fill_identity()
+</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">geom_rect(data=d,
mapping=aes(xmin=x, xmax=x+1, ymin=y, ymax=y+1), fill=&quot;white&quot;)
+</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">geom_rect(data=d,
mapping=aes(xmin=x+0.05, xmax=x+0.95, ymin=y+0.5, ymax=y+1, fill=c))
+</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">geom_text(data=d,
mapping=aes(x=x+0.5, y=y+0.5, label=c), colour=&quot;black&quot;,
hjust=0.5, vjust=1, size=3)</FONT></SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000">
<IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_85afbd16.png" NAME="Picture 17" ALIGN=BOTTOM WIDTH=607 HEIGHT=975 BORDER=0></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%">From
</FONT></FONT></FONT><A HREF="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/">http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/</FONT></FONT></A>
 </FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Colors
can also be specified as a hexadecimal RGB triplet, such
as&nbsp;<B>&quot;#0066CC&quot;, </B>where a much larger range is
available (16,777,215 colors). The first two digits are the level of
red, the next two green, and the last two blue. The value for each
ranges from 00 to FF in hexadecimal (base-16) notation, which is
equivalent to 0 and 255 in base-10. For example, in the table below,
“#FFFFFF” is white and “#990000” is a deep red. A subset of
these colors from <FONT COLOR="#111111"><FONT FACE="Helvetica, serif"><FONT SIZE=3 STYLE="font-size: 11pt">&nbsp;</FONT></FONT></FONT><A HREF="http://www.visibone.com/"><FONT COLOR="#1756a9"><B>http://www.visibone.com</B></FONT></A>
is shown below</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_c634b48.png" NAME="Picture 16" ALIGN=BOTTOM WIDTH=665 HEIGHT=746 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%; page-break-before: always">
<FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">Now
we discuss the details about the </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplo</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">t
function in detail. </FONT></FONT></FONT><FONT FACE="Times-Roman, serif">We
start with </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot()</SPAN></B></FONT></FONT></FONT><FONT FACE="Times-Roman, serif">to
create a </FONT></FONT><FONT FACE="Times-Roman, serif"><B>new
plot object, and then add the other components: a single layer,
specifying the data, mapping, geom, and stat (as applicable), the
position scales, and a Cartesian coordinate system.</B></FONT></FONT><FONT FACE="Times-Roman, serif">
</FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="Times-Roman, serif"><B>The
layer is the most complicated and specifies that we want to:</B></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">use
	the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>diamonds
	</SPAN></B></FONT></FONT></FONT>data subset that we created above,</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">map
	<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat
	</SPAN></B></FONT></FONT></FONT>to the horizontal (<FONT FACE="MTMI, serif"><I>x</I></FONT>)
	position, and <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>counts
	</SPAN></B></FONT></FONT></FONT>(bins
	of X variable)</FONT></FONT></FONT> to the vertical (<FONT FACE="MTMI, serif"><I>y</I></FONT>)
	position, and</SPAN></FONT></FONT></FONT></P>
</UL>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="Times-Roman, serif"><B>Intelligent
defaults allow us to simplify this specification in a number of ways:</B></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">We
	only need specify one of geom and stat, as each geom has a default
	stat (and vice versa). </SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">The
	Cartesian coordinate system is used by default, so does not need to
	be specified.</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">Default
	scales will be added according to the aesthetic and type of
	variable. </SPAN></FONT></FONT></FONT>
	</P>
</UL>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">Next
we increase the number of bins by decreasing the default </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>binwidth</SPAN></B></FONT></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">
used in the previous example, and change colors and fill.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=carat),
<SPAN STYLE="background: #ffff00">binwidth</SPAN>=0.05, <SPAN STYLE="background: #ffff00">color</SPAN>=&quot;gray&quot;,
fill=&quot;red&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_9d7906b4.png" NAME="Picture 6" ALIGN=BOTTOM WIDTH=555 HEIGHT=354 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">Observations
– more detail but losing</SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">
a sense of the overall shape of the distribution.</SPAN></B></FONT></FONT></FONT></FONT><FONT COLOR="#ff0000"><B>
</B></FONT></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Repeat
above but change the number of bins, not the binwidth</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=carat),
<SPAN STYLE="background: #ffff00">bins</SPAN>=40, <SPAN STYLE="background: #ffff00">color</SPAN>=&quot;gray&quot;,
fill=&quot;red&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_87526e20.png" NAME="Picture 8" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">We
repeat the above example but change the size variable which changes
the thickness of the gray bin outlines.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">    
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=carat),
binwidth=0.05, color=&quot;gray&quot;, fill=&quot;red&quot;,
size=1.5)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_14671a9d.png" NAME="Picture 11" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">Next
we decrease the number of bins and add a centered title, new axes
labels and a caption and make the bins mostly transparent (alpha = 0
- transparent -&gt; 1 - opaque).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=carat),
binwidth=0.2, color=&quot;yellow&quot;, fill=&quot;blue&quot;,
<SPAN STYLE="background: #ffff00">alpha</SPAN>=0.2) +   </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><SPAN STYLE="background: #ffff00">ggtitle</SPAN>(&quot;Histogram
of Carat data&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><SPAN STYLE="background: #ffff00">theme</SPAN>(plot.title=element_text(face=&quot;bold.italic&quot;,
color=&quot;green&quot;, lineheight=1.5, </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>	hjust=0.5))
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">   <FONT FACE="Courier New, serif"><B><SPAN STYLE="background: #ffff00">labs</SPAN>(x
= &quot;Size in Carats&quot;, y = &quot;Bin Counts&quot;,
caption=&quot;Ref. diamonds dataset&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_724204ce.png" NAME="Picture 72" ALIGN=BOTTOM WIDTH=428 HEIGHT=272 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">Observations
– as expected less detail but more sense of</SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">
the overall shape of the distribution.</SPAN></B></FONT></FONT></FONT></FONT><FONT COLOR="#ff0000"><B>
</B></FONT></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">Next
we can repeat the same histogram exercises above with price and alter
X and Y axis tick mark defaults </FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">From
</FONT></FONT></FONT><A HREF="http://www.sthda.com/english/wiki/ggplot2-axis-ticks-a-guide-to-customize-tick-marks-and-labels">http://www.sthda.com/english/wiki/ggplot2-axis-ticks-a-guide-to-customize-tick-marks-and-labels</FONT></FONT></A>
</FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>The&nbsp;<SPAN STYLE="font-weight: normal">color</SPAN>,
the&nbsp;<SPAN STYLE="font-weight: normal">font size</SPAN>&nbsp;and
the&nbsp;<SPAN STYLE="font-weight: normal">font face</SPAN>&nbsp;of
axis tick mark labels can be changed using the
functions&nbsp;<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>theme()</SPAN></B></FONT></FONT></FONT>&nbsp;and&nbsp;<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>element_text()</SPAN></B></FONT></FONT></FONT>&nbsp;</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">#
x axis tick mark labels</FONT><FONT COLOR="#ff0000"> </FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">.
. .</FONT><FONT COLOR="#ff0000"> </FONT><FONT COLOR="#ff0000">theme</FONT><FONT COLOR="#ff0000">(</FONT><FONT COLOR="#ff0000">axis.text.x</FONT><FONT COLOR="#ff0000">=</FONT><FONT COLOR="#ff0000">
</FONT><FONT COLOR="#ff0000">element_text</FONT><FONT COLOR="#ff0000">(</FONT><FONT COLOR="#ff0000">family</FONT><FONT COLOR="#ff0000">,
</FONT><FONT COLOR="#ff0000">face</FONT><FONT COLOR="#ff0000">,
</FONT><FONT COLOR="#ff0000">colour</FONT><FONT COLOR="#ff0000">,
</FONT><FONT COLOR="#ff0000">size</FONT><FONT COLOR="#ff0000">))</FONT><FONT COLOR="#ff0000">
</FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">#
y axis tick mark labels</FONT><FONT COLOR="#ff0000"> </FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">.
. . </FONT><FONT COLOR="#ff0000">theme</FONT><FONT COLOR="#ff0000">(</FONT><FONT COLOR="#ff0000">axis.text.y</FONT><FONT COLOR="#ff0000">
</FONT><FONT COLOR="#ff0000">=</FONT><FONT COLOR="#ff0000">
</FONT><FONT COLOR="#ff0000">element_text</FONT><FONT COLOR="#ff0000">(</FONT><FONT COLOR="#ff0000">family</FONT><FONT COLOR="#ff0000">,
</FONT><FONT COLOR="#ff0000">face</FONT><FONT COLOR="#ff0000">,
</FONT><FONT COLOR="#ff0000">colour</FONT><FONT COLOR="#ff0000">,
</FONT><FONT COLOR="#ff0000">size</FONT><FONT COLOR="#ff0000">))</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>The
following arguments can be used for the function&nbsp;element_text()&nbsp;to
change the appearance of the text :</SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">family</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
font family</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">face</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
font face. Possible values are “plain”, “italic”, “bold”
and “bold.italic”</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">color</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
text color</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">size</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
text size in pts</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">angle</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
angle (in [0, 360])</FONT></SPAN></FONT></FONT></FONT></P>
<P>The
functions&nbsp;<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scale_x_continuous()</SPAN></B></FONT></FONT></FONT>&nbsp;and&nbsp;<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scale_y_continuous()</SPAN></B></FONT></FONT></FONT>&nbsp;are
used to customize continuous x and y axis, respectively.</SPAN></FONT></FONT></FONT></P>
<P>Using
these two functions, the following x or y axis parameters can be
modified :</SPAN></FONT></FONT></FONT></P>
<P>axis
titles</SPAN></FONT></FONT></FONT></P>
<P>axis
limits (set the minimum and the maximum)</SPAN></FONT></FONT></FONT></P>
<P>choose
where tick marks appear</SPAN></FONT></FONT></FONT></P>
<P>manually
label tick marks</SPAN></FONT></FONT></FONT></P>
<P>The
simplified formats
of&nbsp;scale_x_continuous()&nbsp;and&nbsp;scale_y_continuous()&nbsp;are
:</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">scale_x_continuous(name,
breaks, labels, limits, trans)</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">scale_y_continuous(name,
breaks, labels, limits, trans)</FONT></SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">name</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
x or y axis labels</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">breaks</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
control the breaks in the guide (axis ticks, grid lines, …). Among
the possible values, there are :</FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="text-indent: 0.5in; margin-bottom: 0.11in"><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">NULL</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
hide all breaks</FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="text-indent: 0.5in; margin-bottom: 0.11in"><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">waiver()</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
the default break computation</FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="text-indent: 0.5in; margin-bottom: 0.11in"><FONT COLOR="#ff0000">a&nbsp;character&nbsp;or&nbsp;numeric&nbsp;vector
specifying the breaks to display</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">labels</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
labels of axis tick marks. Allowed values are :</FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="text-indent: 0.5in; margin-bottom: 0.11in"><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">NULL</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;for
no labels</FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="text-indent: 0.5in; margin-bottom: 0.11in"><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">waiver()</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;for
the default labels</FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="text-indent: 0.5in; margin-bottom: 0.11in"><FONT COLOR="#ff0000">character
vector&nbsp;to be used for break labels</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">limits</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;:
a numeric vector specifying x or y axis limits (min, max)</FONT></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT COLOR="#ff0000">trans</FONT></SPAN></B></FONT></FONT></FONT><FONT COLOR="#ff0000">&nbsp;for
axis transformations. Possible values are &quot;log2&quot;, &quot;log10&quot;,
&quot;sqrt&quot;, &quot;reverse&quot;, etc</FONT></SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=price),
color=&quot;purple&quot;, fill=&quot;green&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><SPAN STYLE="background: #ffff00">scale_x_continuous</SPAN>(name=&quot;Price
in $&quot;, breaks=seq(0,17500,1000)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=8, angle=45)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B><SPAN STYLE="background: #ffff00">scale_y_continuous</SPAN>(breaks=seq(0,110,10))</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_338e3e32.png" NAME="Picture 2" ALIGN=BOTTOM WIDTH=555 HEIGHT=375 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">Next
we shrink the bin widths.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=price),
binwidth=250, color=&quot;gold&quot;, fill=&quot;darkorchid2&quot;) +
</SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>scale_x_continuous(breaks=seq(0,17500,1000))
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=7, angle=90)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>scale_y_continuous(breaks=seq(0,110,10))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e731b53a.png" NAME="Picture 12" ALIGN=BOTTOM WIDTH=597 HEIGHT=381 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations here as compared with the above two plots?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">Reverse
X axis using a transformation</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=price),
color=&quot;purple&quot;, fill=&quot;green&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>scale_x_continuous(name=&quot;Price
in $&quot;, <SPAN STYLE="background: #ffff00">trans=</SPAN><SPAN STYLE="background: #ffff00">&quot;</SPAN><SPAN STYLE="background: #ffff00">reverse</SPAN>&quot;
) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=8, angle=45)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>scale_y_continuous(breaks=seq(0,110,10))</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_49c80447.png" NAME="Picture 4" ALIGN=BOTTOM WIDTH=519 HEIGHT=350 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Transform
X axis using log10 function </FONT></FONT></FONT></SPAN></FONT></FONT></FONT>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">    
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=price),
color=&quot;purple&quot;, fill=&quot;green&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">    
<FONT FACE="Courier New, serif"><B>scale_x_continuous(name=&quot;Log10
Price in $&quot;, trans=&quot;log10&quot; ) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">    
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=8, angle=45)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">    
<FONT FACE="Courier New, serif"><B>scale_y_continuous(breaks=seq(0,110,10))
+</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_96631b20.png" NAME="Picture 13" ALIGN=BOTTOM WIDTH=529 HEIGHT=357 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Next
we look at altering the axes themselves </FONT></FONT></FONT></SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=carat),
<SPAN STYLE="background: #ffff00">binwidth</SPAN>=0.05, <SPAN STYLE="background: #ffff00">color</SPAN>=&quot;gray&quot;,
fill=&quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>theme(axis.line =
element_line(colour = &quot;darkblue&quot;, size = 1, linetype =
&quot;solid&quot;))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_2b06ab5e.png" NAME="Picture 14" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(x=carat),
<SPAN STYLE="background: #ffff00">binwidth</SPAN>=0.05, <SPAN STYLE="background: #ffff00">color</SPAN>=&quot;gray&quot;,
fill=&quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>theme(axis.line =
element_line(colour = &quot;darkblue&quot;, size = 1, linetype =
&quot;solid&quot;)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>theme(panel.grid.major
= <A HREF="http://ggplot2.tidyverse.org/reference/element.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">element_line</SPAN></FONT></A>(color
= &quot;green&quot;)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>theme(panel.grid.minor
= <A HREF="http://ggplot2.tidyverse.org/reference/element.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">element_line</SPAN></FONT></A>(color
= &quot;purple&quot;))</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_78d5dbbb.png" NAME="Picture 18" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=4>
			<LI><P><FONT COLOR="#ff0000"><B>Histograms
			of a Single Continous Variable by a Categorical Variable</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P STYLE="margin-bottom: 0in; line-height: 100%">When
we have a dataset with contiuous variable we can do some simple
comparisons between a single variable along with a categorical
variable which results in a modified version of the histogram. Below
we bin </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT>
by the categorical variable </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut
</SPAN></B></FONT></FONT></FONT>and
get a </FONT></FONT></FONT><B>stacked
histogram</B></FONT></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=1000)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5a1c9a55.png" NAME="Picture 26" ALIGN=BOTTOM WIDTH=597 HEIGHT=381 BORDER=0></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">How
do the different distributions compare?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_ce56fde.png" NAME="Picture 19" ALIGN=BOTTOM WIDTH=644 HEIGHT=408 BORDER=0></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P>From
</FONT></FONT></FONT><A HREF="https://rstudio-pubs-static.s3.amazonaws.com/3364_d1a578f521174152b46b19d0c83cbe7e.html">https://rstudio-pubs-static.s3.amazonaws.com/3364_d1a578f521174152b46b19d0c83cbe7e.html</A>
</FONT></FONT></FONT></SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P>We
can zoom in </SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>coord_cartesian(ylim
= c(0, 50))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_6708ef4f.png" NAME="Picture 30" ALIGN=BOTTOM WIDTH=644 HEIGHT=409 BORDER=0></SPAN></FONT></P>
<P>Zoom
still further</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=250,
color=&quot;gray&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>coord_cartesian(ylim
= c(0, 5), xlim = c(10000, 18000)) </SPAN></B></FONT></FONT></FONT>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_234091b0.png" NAME="Picture 31" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P>Reverse
count axis</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_y_continuous(trans
= &quot;reverse&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_a6caa584.png" NAME="Picture 32" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_y_continuous(trans
= &quot;log&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5a287fbc.png" NAME="Picture 33" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P>Swap
axes</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>coord_flip()</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e0f31efe.png" NAME="Picture 34" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Decrease
number of <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut</SPAN></B></FONT></FONT></FONT>
categories</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_fill_hue(limits
= c(&quot;Ideal&quot;,&quot;Premium&quot;, &quot;Very Good&quot;))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_b05cb7e7.png" NAME="Picture 35" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P>Change
colors</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_fill_manual(values
= c(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;,
&quot;purple&quot;))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_a16e90d0.png" NAME="Picture 36" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
Repeat
the above using a different categorical variable - </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, fill = clarity)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth=500,
color=&quot;gray&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_391e69c5.png" NAME="Picture 20" ALIGN=BOTTOM WIDTH=649 HEIGHT=412 BORDER=0></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">How
do the different distributions compare?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">This
time use </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat
as continuous variable </SPAN></B></FONT></FONT></FONT>with
respect to </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut
</SPAN></B></FONT></FONT></FONT>categories.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth
= 0.1, color=&quot;gray&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_22c5076.png" NAME="Picture 21" ALIGN=BOTTOM WIDTH=545 HEIGHT=346 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">Another
way to view a single continuous variable by one or more categorical
variables utilizes the </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>facet</SPAN></B></FONT></FONT></FONT>
appoach within </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>.
This put each of the </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut</SPAN></B></FONT></FONT></FONT>
plots on a separate set of axes.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, group = cut, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(binwidth
= 0.1) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(cut ~ .)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_4dcddb75.png" NAME="Picture 78" ALIGN=BOTTOM WIDTH=602 HEIGHT=382 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, group = cut, fill = cut)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(bins =
20) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(. ~ cut)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_eb5660a5.png" NAME="Picture 79" ALIGN=BOTTOM WIDTH=642 HEIGHT=408 BORDER=0></P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%">We
can do this for </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT>
with two categorical variables as follows</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, group = cut, fill=clarity)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(bins =
20) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(cut ~
clarity)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e76fc55d.png" NAME="Picture 80" ALIGN=BOTTOM WIDTH=651 HEIGHT=413 BORDER=0></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, group = cut, fill = clarity)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(bins =
20) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(cut ~
clarity) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=7, angle=90)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_x_continuous(breaks=seq(0,17500,5000))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5633d0c0.png" NAME="Picture 81" ALIGN=BOTTOM WIDTH=676 HEIGHT=429 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><SPAN STYLE="font-weight: normal">To
better view the above information – each of the scales can be
independent – just the Y axes here</SPAN></FONT></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, group = cut, fill = clarity)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(bins =
20) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(cut ~
clarity, scales=&quot;free_y&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=7, angle=90)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_x_continuous(breaks=seq(0,17500,5000))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_aebceb43.png" NAME="Picture 85" ALIGN=BOTTOM WIDTH=702 HEIGHT=445 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P>Next
both axes free</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price, group = cut, fill = clarity)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(bins =
20) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(cut ~
clarity, scales=&quot;free&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=7, angle=90)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_x_continuous(breaks=seq(0,17500,5000))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e720f5f2.png" NAME="Picture 89" ALIGN=BOTTOM WIDTH=695 HEIGHT=441 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<OL START=5>
	<OL>
		<OL START=5>
			<LI><P><FONT COLOR="#ff0000"><B>Visualization
			of a Single Continous Variable using Density Plots</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P>An
alternative single continuous variable visualization technique is the
<B>area plot or density plot</B>. A density plot is basically a
“continuous histogram” of a variable, except the area under the
density plot is equal to 1. A point on a density plot corresponds to
the fraction of data (or the percentage of data, divided by 100) that
takes on a particular value. This fraction is usually very small.
When you look at a density plot, you’re more interested in the
overall shape of the curve than in the actual values on the y-axis
(i.e., how close to a normal distribution)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(aes(x =
carat))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_6ead7335.png" NAME="Picture 45" ALIGN=BOTTOM WIDTH=520 HEIGHT=332 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>If
we take the integral of the density plot we get the <B>cumulative
density plot</B> shown below. This plot it useful in determining
probabilities from the sample – see below.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_ecdf(aes(x =
carat)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_hline(aes(yintercept
= 0.5), color = &quot;blue&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_vline(aes(xintercept
= 0.71), color = &quot;blue&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_hline(aes(yintercept
= 0.9), color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_vline(aes(xintercept
= 1.5), color = &quot;red&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5d538359.png" NAME="Picture 51" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P><B>The
horizontal blue line represent the 50% probability line or the
median. The blue vertical line at 0.71 carats is the intersection of
the cumulative density plot of carat with the 50% probability line –
which means that the half of all the diamonds in our datset are less
than or equal to 0.71 carats.</B></SPAN></FONT></FONT></FONT></P>
<P>The
horizontal red line represent the 90% probability line. The red
vertical line at 1.5 carats is the intersection of the cumulative
density plot of carat with the 90% probability line – which means
that the 90% of all the diamonds in our datset are less than or equal
to 1.5 carats.</SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>One
way to view a density plot is to compare it with a normal (Gaussian)
distribution. Here we use commands from base R and ignore the error
message.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qqnorm(dsmall$carat)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qqline(dsmall$carat)
</SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qqplot(dsmall$carat)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_4d6808ac.png" NAME="Picture 50" ALIGN=BOTTOM WIDTH=597 HEIGHT=381 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">A
normally distributed variable would lie along the diagonal straight
line. Here we see non-normal tails at both end of the distribution
and one extreme point at the far right end. </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif"><B>This
can be done in ggplot without the diagonal straight line using</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(sample = carat)) + stat_qq()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_bb7b1678.png" NAME="Picture 53" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">Next
we alter the default value of adjust to decrease the smoothing in the
plot.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat))
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(adjust =
1/5, fill = &quot;green&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_dce36def.png" NAME="Picture 37" ALIGN=BOTTOM WIDTH=610 HEIGHT=387 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>One
way to possibly improve this data set’s “normality” is to do a
log transform of <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT>.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(aes(x =
carat), fill = &quot;blue&quot;, color = &quot;red&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_x_log10()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_b19c6d27.png" NAME="Picture 38" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">But
now we see a bi-modal distribution with some characteristics of
normality.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qqnorm(log10(dsmall$carat))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qqline(log10(dsmall$carat))
</SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qqplot(log10(dsmall$carat))</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_4738fac7.png" NAME="Picture 56" ALIGN=BOTTOM WIDTH=453 HEIGHT=289 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(sample = log10(carat))) + stat_qq()</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_57d21027.png" NAME="Picture 54" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>And
we still see normality issues.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=6>
			<LI><P><FONT COLOR="#ff0000"><B>Density
			Plots of a Single Continous Variable by a Categorical Variable</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">Just
like we did previously with histograms, we can plot the density of a
continuous variable </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">
by a categorical variable.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat,
color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_6d6021b3.png" NAME="Picture 64" ALIGN=BOTTOM WIDTH=505 HEIGHT=322 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">Repeat
and change the smoothing</FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat,
color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(adjust =
2/5)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_c0ad9576.png" NAME="Picture 65" ALIGN=BOTTOM WIDTH=632 HEIGHT=403 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">We
can also fill the plots and have some level of transparency </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat,
fill = cut, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(adjust =
3/5, alpha = 0.1)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_2032d185.png" NAME="Picture 66" ALIGN=BOTTOM WIDTH=690 HEIGHT=440 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>We
now look at <B>the cumulative density function</B> of <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT>
by <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut</SPAN></B></FONT></FONT></FONT>
using</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_ecdf(aes(x =
carat, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_hline(aes(yintercept
= 0.5), color = &quot;black&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_hline(aes(yintercept
= 0.9), color = &quot;black&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_c44c00dc.png" NAME="Picture 57" ALIGN=BOTTOM WIDTH=590 HEIGHT=374 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">We
zoom in on the above plot to compare the different cuts around the
50% probability line</FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_ecdf(aes(x =
carat, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_hline(aes(yintercept
= 0.5), color = &quot;black&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0.3,
0.7) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>xlim(0.4,
1.1)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_21aeda75.png" NAME="Picture 58" ALIGN=BOTTOM WIDTH=640 HEIGHT=406 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><B>From
this plot we can quickly compare the median value of carat by cut and
can repeat this for any probability value (90% in below example).</B></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_ecdf(aes(x =
carat, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_hline(aes(yintercept
= 0.9), color = &quot;black&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0.7,
1.0) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>xlim(1.0,
1.25)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_78fc2be4.png" NAME="Picture 60" ALIGN=BOTTOM WIDTH=630 HEIGHT=400 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>We
can also compare the normality of carat by cut using</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(sample = log10(carat), color = cut)) + stat_qq()</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_1e3f0288.png" NAME="Picture 61" ALIGN=BOTTOM WIDTH=683 HEIGHT=433 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">Another
option is a </FONT></FONT><FONT FACE="NewBaskerville-Roman, serif"><B>stacked
density plot</B></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">
</FONT></FONT><FONT FACE="NewBaskerville-Roman, serif"><B>which
preserves the relative size of the marginal (individual) densities</B></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">
</FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat,
..count.., fill = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(position
= &quot;stack&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_442d208f.png" NAME="Picture 68" ALIGN=BOTTOM WIDTH=533 HEIGHT=340 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">This
allows you to more clearly compare the distributions of </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">
by </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut.</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">Finally
a </FONT></FONT><FONT FACE="NewBaskerville-Roman, serif"><B>stacked
density plot which shows the conditional density estimates (all sum
to1)  </B></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat,
..count.., fill = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(position
= &quot;fill&quot;, adjust = 3/5 )</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_d279ecdf.png" NAME="Picture 76" ALIGN=BOTTOM WIDTH=687 HEIGHT=438 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><SPAN STYLE="font-weight: normal">And
repeat with</SPAN></FONT></FONT></FONT><B> clarity</B></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat,
..count.., fill = clarity)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(position
= &quot;fill&quot;, adjust = 3/5 )</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_a18de1a.png" NAME="Picture 83" ALIGN=BOTTOM WIDTH=621 HEIGHT=396 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">Next
we show the density plot of </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(aes(x =
price), fill = &quot;blue&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_f945ba77.png" NAME="Picture 39" ALIGN=BOTTOM WIDTH=488 HEIGHT=310 BORDER=0></P>
<P><BR><BR>
</P>
<P>Here
we note that the distribution is concentrated at the low end and
appears lognormal. We next do a log transform on <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT>
to shed additional information on the lower values, add additional
tick marks on the X axis and draw a vertical line near the most
numerous<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>
price</SPAN></B></FONT></FONT></FONT> level.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(aes(x =
price), color = &quot;green&quot; ) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_x_log10(breaks=c(500,1000,5000,10000,15000))
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>annotation_logticks(sides=&quot;bt&quot;)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_vline(aes(xintercept
= 820)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_vline(aes(xintercept
= 4200))</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_ce1d4318.png" NAME="Picture 40" ALIGN=BOTTOM WIDTH=653 HEIGHT=414 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="NewBaskerville-Roman, serif">And
a stacked density plot of </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">
by </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT><FONT FACE="NewBaskerville-Roman, serif">
which shows the conditional density estimates (all sum to 1)  </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(price,
..count.., fill = color)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(position
= &quot;fill&quot;, adjust = 3/5 )</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_22da7c0.png" NAME="Picture 84" ALIGN=BOTTOM WIDTH=664 HEIGHT=423 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P>As
we did with histograms, we can use <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>
faceting to look at a single contiuous variable by one or two
categorical variables.</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><A HREF="http://ggplot2.tidyverse.org/reference/ggplot.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">ggplot</SPAN></FONT></A>(dsmall,
<A HREF="http://ggplot2.tidyverse.org/reference/aes.html"><FONT COLOR="#4361f7"><SPAN STYLE="text-decoration: none">aes</SPAN></FONT></A>(carat,
fill = cut, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(adjust =
3/5, alpha = 0.1) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(. ~ cut)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_9ece9dbb.png" NAME="Picture 77" ALIGN=BOTTOM WIDTH=698 HEIGHT=443 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>With
two categorical variables and both axes free</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, group = cut, fill = clarity)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(adjust =
3/5, alpha = 0.1) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(cut ~
clarity, scales=&quot;free&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(face=&quot;bold&quot;, color=&quot;#993333&quot;,
size=7)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_x_continuous(breaks=seq(0,3,1))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_f462a9b9.png" NAME="Picture 91" ALIGN=BOTTOM WIDTH=670 HEIGHT=425 BORDER=0></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=7>
			<LI><P><FONT COLOR="#ff0000"><B>Visualization
			of a Single Continous Variable using Superimposted Histogram and
			Density Plot</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P>For
additional utility, you can superimpose a density plot on top of its
histogram</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price)) +  </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_histogram(aes(y
= ..density..), color = &quot;black&quot;, fill = &quot;white&quot;)
+  </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(alpha =
0.2, fill = &quot;#FF6666&quot;)  # This fill makes it transparent</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_b08e1bb3.png" NAME="Picture 87" ALIGN=BOTTOM WIDTH=495 HEIGHT=316 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Another
way to show this information is by adding a <B>rug plot</B> to the
density plot.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = price)) +  </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_density(alpha =
0.2, fill = &quot;#FF6666&quot;) +  </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_rug(aes(y = 0),
position<FONT FACE="Courier New, serif"> </FONT></FONT>=<FONT FACE="Courier New, serif">
</FONT></FONT>position_jitter(height<FONT FACE="Courier New, serif">
</FONT></FONT>=<FONT FACE="Courier New, serif"> </FONT></FONT>0))</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_46c5036b.png" NAME="Picture 52" ALIGN=BOTTOM WIDTH=564 HEIGHT=358 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P STYLE="margin-left: 0.35in; margin-bottom: 0.11in"><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=8>
			<LI><P><FONT COLOR="#ff0000"><B>Visualization
			of a Single Discrete or Categorical Variable</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P><B><SPAN STYLE="background: #ffff00">The
histogram and density plots are useful when X is continuous and the Y
axis is a count of the number of X values in that bin, but we will
use a </SPAN></B><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">bar
chart </SPAN></B></FONT><B><SPAN STYLE="background: #ffff00">when X
is discrete or when Y is a value (and not a count).</SPAN></B></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_bar(aes(x =
color), fill = &quot;gray&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e8c64fa0.png" NAME="Picture 88" ALIGN=BOTTOM WIDTH=469 HEIGHT=299 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>Note
in this simple case the graph does not show any more information than
we would obtain using the summary function (just in graphical form). 
Since bar charts are simple to understand we won’t go into more
details about them here, except to add a stacking option as we did
with our histograms and density plots using categorical variables. </SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_bar(aes(x =
color, fill = clarity))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_10953ccd.png" NAME="Picture 93" ALIGN=BOTTOM WIDTH=505 HEIGHT=322 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">What
are your observations?</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>And
another example</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_bar(aes(x =
color, fill = cut))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_2ec8a8b4.png" NAME="Picture 105" ALIGN=BOTTOM WIDTH=494 HEIGHT=315 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall)
+ </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_bar(aes(x =
color, fill = price))</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><B>You
can repeat this for any pair of categorical variables. </B></SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P>Where
bar charts are especially useful is when the number of possible
values is large.  Here we return to our <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>custdata</SPAN></B></FONT></FONT></FONT>
set and look at the distribution of <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>state.of.res</SPAN></B></FONT></FONT></FONT>.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(custdata)
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_bar(aes(x=state.of.res),
fill=&quot;gray&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>coord_flip() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.y =
element_text(size=rel(0.8)))</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_150f52f.png" NAME="Picture 86" ALIGN=BOTTOM WIDTH=677 HEIGHT=479 BORDER=0></SPAN></FONT></P>
<P>Note
here we have swapped the X and Y axes and reduced the size of the
tick labels for clarity.</SPAN></FONT></FONT></FONT></P>
<P>An
even more useful bar chart of this same data occurs when we sort the
data and bar chart the data in sorted order as follows (note this
requires some additional calculations).</SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>statesums
&lt;- table(custdata$state.of.res)  # aggregate the data by state</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>statef
&lt;- as.data.frame(statesums)	# convert the table to a data table  </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>colnames(statef)&lt;-c(&quot;state.of.res&quot;,
&quot;count&quot;) # rename both columns of data</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>summary(statef)		#
look at a summary – default is alphabetical order</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
    <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">state.of.res
    count       </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Alabama
  : 1    Min.   :  1.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Alaska
   : 1    1st Qu.:  5.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Arizona
  : 1    Median : 12.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Arkansas
 : 1    Mean   : 20.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">California:
1    3rd Qu.: 26.25  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Colorado
 : 1    Max.   :100.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">(Other)
  :44    </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>#
Next statement re-order resets list of states by count ordered</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>#
Then we transform our dataframe with this new order	</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>statef
&lt;- transform(statef, state.of.res=reorder(state.of.res, count))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>summary(statef)		#
compare with previous summary for differences</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
      <FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">state.of.res
    count       </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Delaware
   : 1    Min.   :  1.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">North
Dakota: 1    1st Qu.:  5.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Wyoming
    : 1    Median : 12.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Rhode
Island: 1    Mean   : 20.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Alaska
     : 1    3rd Qu.: 26.25  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">Montana
    : 1    Max.   :100.00  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT COLOR="#00b050">
<FONT FACE="Courier New, serif"><B><FONT SIZE=1 STYLE="font-size: 8pt">(Other)
    :44  </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>#
Finally plot re-ordered bar chart swapping Y and X axes and shrink
text</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(statef)+
</SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_bar(aes(x=state.of.res,y=count),stat=&quot;identity&quot;,fill=&quot;gray&quot;)
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>coord_flip() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.y=element_text(size=rel(0.8)))</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_bbb9a27.png" NAME="Picture 59" ALIGN=BOTTOM WIDTH=678 HEIGHT=510 BORDER=0></SPAN></FONT></P>
<P>Now
it is very easy to quickly look at the distribution of data from
different states. If you wanted to go further with this line of
analysis, you could compare this distribution with the number of
eligible (with respect to insurance) people in each state to see if
you data sampling was representative with the overall available
population. </SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><B>We
can now summarize the previous examples of visualizations for one
variable;</B></SPAN></FONT></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Histograms
	and density plots – can be used to examine data range, number of
	modes, normality of distribution and look for anomalies and
	outliers.</SPAN></B></SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%"><B><SPAN STYLE="background: #ffff00">Bar
	charts – can be used to compare relative or absolute frequencies
	of the values of a categorical variable.</SPAN></B></SPAN></FONT></FONT></FONT></P>
</UL>
<P><BR><BR>
</P>
<P STYLE="margin-left: 0.35in; margin-bottom: 0.11in"><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=9>
			<LI><P><FONT COLOR="#ff0000"><B>Visualizations
			of Relationships Between Two Variables - One Continuous, One
			Categorical</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P><B>We
now turn to the visualization of the relationship between two
variables – beyond the stacking that we did in the previous
section. First we consider </B><B><SPAN STYLE="background: #ffff00">boxplots</SPAN></B>.
A boxplot is a standardized way of displaying the distribution of
data based on the five number summary: minimum, first quartile,
median, third quartile, and maximum. <B>A boxplot (see the next
figure) enables us to </B><B><SPAN STYLE="background: #ffff00">study
the distributional characteristics of a numerical variable (Y axis)
vs. a categorical variable at all its levels (X axis)</SPAN></B><B>.</B>
First the Y values are sorted by each level then this data is divided
into 4 quarters with equal number of Y values. The lines dividing the
groups are called quartiles – see below. Note the line across the
middle of the box is the <B>median value (i.e., the value at the
dividing line between the second and third quartile).</B> The boxes
on either side of the median represent the extent of second and third
quartiles. The first (and fourth) quartile extends from the lower
(upper) end of the box all the way down (up) to the smallest
(largest) point on the plot. The point at which the lines (whiskers)
end in both directions is often used as an outlier indication and its
location is Q1 – 1.5*IQR (and Q3 + 1.5 * IQR), where IQR = Q3 –
Q2). Therefore all the dots beyond the whisker represent data points
which must be looked at more carefully since they could be outliers
and should be eliminated from further statistical calculations. </SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = cut, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_boxplot()</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_eb383a77.png" NAME="Picture 156" ALIGN=BOTTOM WIDTH=684 HEIGHT=437 BORDER=0></SPAN></FONT></P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">Observations
– the median weight (carat) drops gradually as the cut improves,
Fair diamonds have a long tail with respect to larger carat values. 
The carat spread of the data gets wider as the cut improves.</SPAN></B></FONT><FONT COLOR="#ff0000"><B>
</B></FONT></SPAN></FONT></FONT></FONT>
</P>
<P>
<BR>
</P>
<P><BR><BR>
</P>
<P>We
now look at carat and color and add some additional features</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_boxplot(outlier.color
= &quot;red&quot;, outlier.shape = 1)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  </SPAN></FONT>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_9e019e82.png" NAME="Picture 157" ALIGN=BOTTOM WIDTH=662 HEIGHT=422 BORDER=0></SPAN></FONT></P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">Observations?</SPAN></B></FONT></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>Repeat
above but with <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>notch
= TRUE</SPAN></B></FONT></FONT></FONT> . The notch displays a
confidence interval around the median which is normally based on the
median +/- 1.58*IQR/sqrt(n). Notches are used to compare groups; if
the notches of two boxes do not overlap, this is a strong evidence
that the difference in the median values is statistically
significant.</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_boxplot(outlier.color
= &quot;red&quot;, outlier.shape = 1, notch = TRUE)</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_d5f47515.png" NAME="Picture 42" ALIGN=BOTTOM WIDTH=648 HEIGHT=411 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>To
better view this add Y limits.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_boxplot(outlier.color
= &quot;red&quot;, outlier.shape = 1, notch = TRUE) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">   <FONT FACE="Courier New, serif"><B>ylim(0.5,
1.25)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_163b747f.png" NAME="Picture 44" ALIGN=BOTTOM WIDTH=613 HEIGHT=389 BORDER=0></SPAN></FONT></P>
<P>Let’s
now add all the data points (<B>jittered = shift points horizontally
so they don’t stack on top of each other</B>) </SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_boxplot(outlier.color
= &quot;red&quot;, outlier.shape = 2) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT COLOR="#000000">
</FONT><FONT FACE="Courier New, serif"><B>ylim(0, 3)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e70a0dc1.png" NAME="Picture 41" ALIGN=BOTTOM WIDTH=644 HEIGHT=409 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P>Shrink
the Y limits to allow for better comparisons and add fill color</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">ggplot(dsmall,
aes(x = color, y = carat, fill = color)) + </FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">geom_boxplot()
+</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">geom_jitter(width
= 0.2) +</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT COLOR="#000000">
</FONT><FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">ylim(0.3,
2.25) + </FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B><FONT SIZE=2 STYLE="font-size: 9pt">scale_fill_manual</FONT><FONT SIZE=2 STYLE="font-size: 9pt">(</FONT><FONT SIZE=2 STYLE="font-size: 9pt">values</FONT><FONT SIZE=2 STYLE="font-size: 9pt">=</FONT><FONT SIZE=2 STYLE="font-size: 9pt">c</FONT><FONT SIZE=2 STYLE="font-size: 9pt">(</FONT><FONT SIZE=2 STYLE="font-size: 9pt">&quot;red&quot;</FONT><FONT SIZE=2 STYLE="font-size: 9pt">,
</FONT><FONT SIZE=2 STYLE="font-size: 9pt">&quot;orange&quot;</FONT><FONT SIZE=2 STYLE="font-size: 9pt">,
</FONT><FONT SIZE=2 STYLE="font-size: 9pt">&quot;yellow&quot;,&quot;green&quot;,&quot;blue&quot;,&quot;purple&quot;,&quot;gray&quot;</FONT><FONT SIZE=2 STYLE="font-size: 9pt">))</FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_b8f595c1.png" NAME="Picture 48" ALIGN=BOTTOM WIDTH=688 HEIGHT=436 BORDER=0></SPAN></FONT></P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">Observations?</SPAN></B></FONT></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>Just
as we have done in the previous sections, we will plot boxplots by
another categorical variable using faceting.</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_boxplot(outlier.color
= &quot;red&quot;, outlier.shape = 1, notch = TRUE) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(. ~ cut)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_650942c5.png" NAME="Picture 69" ALIGN=BOTTOM WIDTH=694 HEIGHT=441 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Reversing
color and cut, remove notch and show mean</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = cut, y = carat, color = color)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(color=&quot;#993333&quot;, size=6, angle=90)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_boxplot(notch =
FALSE) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(. ~
color)+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 1,
color = &quot;red&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0,
2.2)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_7e5323f9.png" NAME="Picture 75" ALIGN=BOTTOM WIDTH=658 HEIGHT=418 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><B><SPAN STYLE="background: #ffff00">Add
a third categorical variable and use the full diamonds data set. This
will run slow.</SPAN></B></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(diamonds,
aes(x = cut, y = carat, color = color)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(color=&quot;#993333&quot;, size=6, angle=90)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_boxplot(outlier.color
= &quot;red&quot;, outlier.shape = 1, notch = FALSE) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(clarity ~
color, scales=&quot;free&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_77a005c4.png" NAME="Picture 73" ALIGN=BOTTOM WIDTH=701 HEIGHT=566 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P>A
variation of the boxplot is called the <B>violin plot</B> and here
the vertical contours of the box are replaced by its corresponding
density plot.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT COLOR="#000000">
</FONT><FONT FACE="Courier New, serif"><B>ylim(0.3,
2.25)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_25dcbbf6.png" NAME="Picture 160" ALIGN=BOTTOM WIDTH=674 HEIGHT=430 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P><BR><BR>
</P>
<P>Add
some color</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(aes(fill
= color), trim = FALSE, adjust = 0.5) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT COLOR="#000000">
</FONT><FONT FACE="Courier New, serif"><B>ylim(0.3,
2.25)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_db359109.png" NAME="Picture 161" ALIGN=BOTTOM WIDTH=692 HEIGHT=442 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Add
quantiles and mean</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.75) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT COLOR="#000000">
</FONT><FONT FACE="Courier New, serif"><B>ylim(0.3,
2.25) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_4db35481.png" NAME="Picture 162" ALIGN=BOTTOM WIDTH=708 HEIGHT=452 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P>Finally
add the data values</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0.3,
2.25) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_f5d79481.png" NAME="Picture 163" ALIGN=BOTTOM WIDTH=711 HEIGHT=454 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P>Repeat
with axes flip</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = carat)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0.3,
2.25) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>coord_flip()</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_ccf724f.png" NAME="Picture 46" ALIGN=BOTTOM WIDTH=676 HEIGHT=429 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Repeat
for <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut</SPAN></B></FONT></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = cut, y = carat)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0.3,
2.25) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2)</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_bee187e4.png" NAME="Picture 164" ALIGN=BOTTOM WIDTH=699 HEIGHT=446 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Repeat
for <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = clarity, y = carat)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0.3,
2.25) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_7907639e.png" NAME="Picture 165" ALIGN=BOTTOM WIDTH=699 HEIGHT=446 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><B>And
now use </B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT><B>
vs. </B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = clarity, y = price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(100,
15000) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_81d21819.png" NAME="Picture 166" ALIGN=BOTTOM WIDTH=699 HEIGHT=446 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>And
now use <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT>
vs. <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut
</SPAN></B></FONT></FONT></FONT>and add color</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = cut, y = price, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(100,
15000) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_6a05f065.png" NAME="Picture 47" ALIGN=BOTTOM WIDTH=683 HEIGHT=433 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><B>And
now use </B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT><B>
vs. </B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = color, y = price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(100,
15000) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 3,
color = &quot;red&quot;) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_jitter(width =
0.2)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_d1d90dbb.png" NAME="Picture 168" ALIGN=BOTTOM WIDTH=684 HEIGHT=436 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Just
as we have done with boxplots above, we will plot violin plots by
another categorical variable using faceting.</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = cut, y = carat, color = color)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>theme(axis.text.x =
element_text(color=&quot;#993333&quot;, size=6, angle=90)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_violin(draw_quantiles
= c(0.25, 0.5, 0.75), trim = FALSE, adjust = 0.3) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(. ~
color)+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_summary(fun.y =
&quot;mean&quot;, geom = &quot;point&quot;, shape = 8, size = 1,
color = &quot;red&quot;) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>ylim(0,
2.2)</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e1d73bf1.png" NAME="Picture 90" ALIGN=BOTTOM WIDTH=689 HEIGHT=437 BORDER=0></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=10>
			<LI><P><FONT COLOR="#ff0000"><B>Visualizations
			of Relationships Between Two Variables - Both Continuous</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P><B><SPAN STYLE="background: #ffff00">We
now look at </SPAN></B><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">scatter
plots </SPAN></B></FONT><B><SPAN STYLE="background: #ffff00">–
which are used to explore the relationship between two continuous
(numerical) variables</SPAN></B><B>.</B></SPAN></FONT></FONT></FONT></P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">First
we look at the </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
specification for a scatterplot of </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
vs. </FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">
(i.e., weight) with most of defaults specifically called out.</FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot()
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>layer(</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">    <FONT FACE="Courier New, serif"><B>data
= dsmall, mapping = aes(x = carat, y = price),</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">    <FONT FACE="Courier New, serif"><B>geom
= &quot;point&quot;, stat = &quot;identity&quot;, position =
&quot;identity&quot;</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>)
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scale_y_continuous()
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scale_x_continuous()
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>coord_cartesian()</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_1f084682.png" NAME="Picture 169" ALIGN=BOTTOM WIDTH=647 HEIGHT=413 BORDER=0></SPAN></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">Oservations
– as expcted price goes up with respect to carat and the increase
seems to be somewhat exponential.</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Now
we review the details about this <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot</SPAN></B></FONT></FONT></FONT>
function in more detail. We start with <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot()
</SPAN></B></FONT></FONT></FONT>to create a new plot object, and then
add the other components: a single layer, specifying the data,
mapping, geom, and stat, the two continuous position scales, and a
Cartesian coordinate system. </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="Times-Roman, serif"><B>The
layer is the most complicated and specifies that we want to:</B></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">use
	the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>diamonds
	</SPAN></B></FONT></FONT></FONT>dataset,</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">map
	<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat
	</SPAN></B></FONT></FONT></FONT>to the horizontal (<FONT FACE="MTMI, serif"><I>x</I></FONT>)
	position, and <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT>
	to the vertical (<FONT FACE="MTMI, serif"><I>y</I></FONT>) position,
	and</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">display
	the raw data (the identity transformation) with points.</SPAN></FONT></FONT></FONT></P>
</UL>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT FACE="Times-Roman, serif"><B>Intelligent
defaults allow us to simplify this specification in a number of ways:</B></FONT></FONT></P>
<UL>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">We
	only need specify one of geom and stat, as each geom has a default
	stat (and vice versa). </SPAN></FONT></FONT></FONT>
	</P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">The
	Cartesian coordinate system is used by default, so does not need to
	be specified.</SPAN></FONT></FONT></FONT></P>
	<LI><P STYLE="margin-top: 0.08in; line-height: 100%">Default
	scales will be added according to the aesthetic and type of
	variable. </SPAN></FONT></FONT></FONT>
	</P>
</UL>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>For
position defaults we see that continuous values are transformed with
a linear scaling, and categorical values are mapped to the integers;
for color, continuous variables are mapped to a smooth path in the
<FONT SIZE=1 STYLE="font-size: 8pt">HCL </FONT>color space, and
discrete variables to evenly spaced hues with equal luminance and
chroma. The choice of a good default scale is often difficult.</SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><FONT FACE="Times-Roman, serif">With
the intelligent defaults available in ggplot2, we can actually
achieve the same graphical results using the command below:</FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(carat, price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  
<FONT FACE="Courier New, serif"><B>geom_point()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Next,
what if we what to repeat this plot, but use log X and Y scales and
plot a smoothed line on top of the data. Remember a<FONT COLOR="#000000"><FONT FACE="Times-Roman, serif">ny
</FONT></FONT><FONT COLOR="#000000"><FONT FACE="Times-Roman, serif"><B><SPAN STYLE="background: #ffff00">aesthetics</SPAN></B></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Times-Roman, serif"><B>
specified in the layer will override the defaults</B></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Times-Roman, serif">.
Similarly, if a dataset is specified in the layer, it will override
the plot default. So in this case</FONT></FONT><FONT COLOR="#000064"><FONT FACE="Times-Roman, serif">
</FONT></FONT><FONT COLOR="#000000"><FONT FACE="Times-Roman, serif">we
</FONT></FONT><FONT COLOR="#000000"><FONT FACE="Times-Roman, serif"><B>need
to add another layer to override the default linear-transforms with
log-transformations</B></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Times-Roman, serif">:</FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(carat, price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>stat_smooth(method =
lm) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_x_log10() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_y_log10()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#000000"><FONT FACE="Times-Roman, serif"><B>which
is shorthand for:</B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot()
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>layer(</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">    <FONT FACE="Courier New, serif"><B>data
= dsmall, mapping = aes(x = carat, y = price),</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">    <FONT FACE="Courier New, serif"><B>geom
= &quot;point&quot;, stat = &quot;identity&quot;, position =
&quot;identity&quot;</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>)
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>layer(</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">    <FONT FACE="Courier New, serif"><B>data
= dsmall, mapping = aes(x = carat, y = price),</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">    <FONT FACE="Courier New, serif"><B>geom
= &quot;smooth&quot;, position = &quot;identity&quot;,</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">    <FONT FACE="Courier New, serif"><B>stat
= &quot;smooth&quot;, method = lm</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B>)
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scale_y_log10()
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scale_x_log10()
+</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>coord_cartesian()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_f4c93b.png" NAME="Picture 170" ALIGN=BOTTOM WIDTH=694 HEIGHT=443 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#ff0000"><FONT FACE="NewBaskerville-Roman, serif"><B><SPAN STYLE="background: #ffff00">Observations
– with the log transform we can now see that the price trend has
been approximately linearized with respect to carat.</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><BR><BR>
</P>
<P>Within
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot2</SPAN></B></FONT></FONT></FONT>,
there are two basic functions to create plots; <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qplot(</SPAN></B></FONT></FONT></FONT>)
and <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot()</SPAN></B></FONT></FONT></FONT>.
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qplot()</SPAN></B></FONT></FONT></FONT>
is designed primarily for interactive use: it makes a number of
assumptions that speed most cases, but when designing multilayered
plots with different data sources it can get in the way. The two
previous plots above can quickly be generated here by</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qplot(carat,
price, data = dsmall)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qplot(log(carat),
log(price), data = dsmall)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; background: #ffffff; line-height: 0.16in">
<BR>
</P>
<P>For
more information on <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>qplot</SPAN></B></FONT></FONT></FONT>
go to <A HREF="http://ggplot2.org/book/qplot.pdf">http://ggplot2.org/book/qplot.pdf</A></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>Next
we re-plot the previous one with a different point shape, fill, color
and size.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = clarity)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point(shape =
23, fill = &quot;blue&quot;, color = &quot;darkred&quot;, size = 3) </SPAN></B></FONT></FONT></FONT>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_ca6c59e7.png" NAME="Picture 171" ALIGN=BOTTOM WIDTH=591 HEIGHT=418 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P><BR><BR>
</P>
<P>We
can also vary the color of the point by their y value</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +  </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_colour_gradientn(colours=rainbow(4))</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_41e21b77.png" NAME="Picture 172" ALIGN=BOTTOM WIDTH=556 HEIGHT=355 BORDER=0></SPAN></FONT></P>
<P>Next
is a previous plot grouped by <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>
so that each type of <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>
has a separate data point shape and color. Note the default legend
only works correctly for a group of 6 or less – <B>note the warning
messages</B> and the fact that missing values were removed). Also
adds a legend.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, group = clarity)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point(aes(shape
= clarity, color = clarity))</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_863bda3.png" NAME="Picture 173" ALIGN=BOTTOM WIDTH=693 HEIGHT=490 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>To
fix the above problem, we can manually specify 8 distinct shapes.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, group = clarity)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point(aes(shape
= clarity, color = clarity)) + </SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>scale_shape_manual(values=c(1,
3, 5, 7, 9, 11, 13, 15))</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e4a7878a.png" NAME="Picture 174" ALIGN=BOTTOM WIDTH=677 HEIGHT=432 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">Observations:
you can see that some of the lighter diamonds are more expensive if
they have a high clarity rating, and conversely that some of the
heavier diamonds aren't as expensive for having a low clarity rating.
This is what leads to this rainbow pattern. Also appears to an
exponential increase in price, especially for the high clarify (IF)
rating.</SPAN></B></FONT></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>If
we would rather see how the quality of the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT>
or <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut</SPAN></B></FONT></FONT></FONT>
of the diamond affects the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>price</SPAN></B></FONT></FONT></FONT>,
we can change the aesthetic. Here in &quot;aes&quot; we change
&quot;clarity&quot; to &quot;color&quot;.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = color)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_9bd22354.png" NAME="Picture 175" ALIGN=BOTTOM WIDTH=686 HEIGHT=485 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">Observations:
similar results as the previous with clarity - you can see that some
of the lighter diamonds are more expensive if they have a good color
rating, and conversely that some of the heavier diamonds aren't as
expensive for having a low color rating. This is what leads to this
rainbow pattern. Also appears to an exponential increase in price,
especially for the high color (D) rating.</SPAN></B></FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point()</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_6077a662.png" NAME="Picture 176" ALIGN=BOTTOM WIDTH=703 HEIGHT=449 BORDER=0></SPAN></FONT></P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">Observations:
similar results as the previous with clarity and color</SPAN></B></FONT></SPAN></FONT></FONT></FONT></P>
<P><B>This
is the way we can visually explore the relationship of each of these
variables and how it affects the </B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat/price</SPAN></B></FONT></FONT></FONT><B>
relationship. We have already noted a nearly exponential increase in
price with regards to </B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT><B>,
</B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut,</SPAN></B></FONT></FONT></FONT><B>
and </B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT><B>.</B></SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">Next
</FONT></FONT>what if we want to see the effect of both <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT>
and <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut</SPAN></B></FONT></FONT></FONT>?
We can use a fourth aesthetic, such as the size of the points. So
here we have color representing the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>.
Let's add another aesthetic &quot;size = cut&quot;.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = color, size = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_22f72ddd.png" NAME="Picture 177" ALIGN=BOTTOM WIDTH=692 HEIGHT=489 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">What
are your observations here?</SPAN></B></FONT><FONT COLOR="#ff0000"><B>
 </B></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">And
note the warning in R about using size for a discrete variable.</FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>Now,
this scatterplot is one &quot;layer&quot;, which means we can add
additional layers besides the scatter plot using the plus sign. For
example, what if we want to add a smoothing curve that shows the
general trend of the data? That's a layer called<FONT COLOR="#515151"><FONT FACE="Helvetica, serif">&nbsp;</FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>geom_smooth</SPAN></B></FONT></FONT></FONT>.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth()</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_74573a28.png" NAME="Picture 178" ALIGN=BOTTOM WIDTH=677 HEIGHT=479 BORDER=0></P>
<P><BR><BR>
</P>
<P><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">Based
on the dataset R, the smoother automatically chosen was method loess
(others are available). </FONT></FONT>The gray area around the curve
is a confidence interval, suggesting how much uncertainty there is in
this smoothing curve. It can be turned off using</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(se =
FALSE)</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P>Other
smoothing methods are available; </SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(method =
&quot;gam&quot;, se = FALSE)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_537023ef.png" NAME="Picture 179" ALIGN=BOTTOM WIDTH=668 HEIGHT=473 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">Next
we repeat our smoothing but add </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">.
We now get a smoothed line for each of the 8 levels of </FONT></FONT></FONT><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = clarity)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(se =
FALSE)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5d662aa9.png" NAME="Picture 180" ALIGN=BOTTOM WIDTH=678 HEIGHT=479 BORDER=0></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">To
accentuate the smoothing curves, we can skip plotting of the
individual data points</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = clarity)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(se =
FALSE)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_196c8d53.png" NAME="Picture 181" ALIGN=BOTTOM WIDTH=672 HEIGHT=475 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P><BR><BR>
</P>
<P>Repeat
using <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = color)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(se =
FALSE)</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_c6030b80.png" NAME="Picture 182" ALIGN=BOTTOM WIDTH=689 HEIGHT=440 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>Repeat
using <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>cut</SPAN></B></FONT></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(se =
FALSE)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_ecc3db7e.png" NAME="Picture 183" ALIGN=BOTTOM WIDTH=651 HEIGHT=416 BORDER=0></SPAN></FONT></P>
<P><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">Observations?</SPAN></B></FONT></SPAN></FONT></FONT></FONT></P>
<P><B><SPAN STYLE="background: #ffff00">Another
way that you can communicate information about an attribute in your
data is to divide your plot up into multiple plots, one for each
level, letting you view them separately. This is called &quot;</SPAN></B><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">faceting</SPAN></B></FONT><B><SPAN STYLE="background: #ffff00">&quot;,
and </SPAN></B><FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><SPAN STYLE="font-weight: normal"><SPAN STYLE="background: #ffff00">ggplot</SPAN></SPAN></SPAN></FONT></FONT></FONT><B><SPAN STYLE="background: #ffff00">
makes it very easy with the &quot;facet_wrap&quot; function.</SPAN></B><B>
This works for both continuous and categorical variables. </B></SPAN></FONT></FONT></FONT>
</P>
<P>To
do that, we go to a plot like this, and add &quot;facet_wrap&quot;.
Now here we put a tilde (~), and then the attribute we would like to
divide the plots by, here <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>.</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_wrap(~ clarity)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_5a8c7ff8.png" NAME="Picture 184" ALIGN=BOTTOM WIDTH=701 HEIGHT=496 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>You
can see that now we've divided the data into eight subplots, each of
which has a different <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>
value, and you can see how the trend differs between each of those
subplots. We can still see that the color is representing the quality
of the cut of the diamond. <FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">This
makes comparisons across different cuts easier. </FONT></FONT><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif"><B>The
tilde (~) translates to “explained by”.</B></FONT></FONT></SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><FONT COLOR="#000000"><FONT FACE="NewBaskerville-Roman, serif">We
can also add the smoothing (and eliminate the data points).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = price, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(method =
&quot;lm&quot;, se = FALSE) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_wrap(~ clarity)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_ad54fcde.png" NAME="Picture 185" ALIGN=BOTTOM WIDTH=698 HEIGHT=494 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Note
there are insufficient data points in the I1 plot to make a good
smoothed line.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>You
can even divide your graph based on two different attributes, such as
both <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT>
and <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>,
using <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>facet_grid</SPAN></B></FONT></FONT></FONT>.
Note here we use the full diamonds data set and add linear smoothing
(no points plotted) <B>and this will run slow</B>.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(diamonds,
aes(x = carat, y = price, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(method =
&quot;lm&quot;, se = FALSE) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(color ~
clarity)</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_7bf487.png" NAME="Picture 186" ALIGN=BOTTOM WIDTH=710 HEIGHT=503 BORDER=0></P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>Now
you can see that each column represents one of the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>
ratings, and each row represents one of the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT>
ratings, and within the combination you can see only those that match
that <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>color</SPAN></B></FONT></FONT></FONT>
and that <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>clarity</SPAN></B></FONT></FONT></FONT>.
Faceting like this gives another way to communicate the relationships
within your data.</SPAN></FONT></FONT></FONT></P>
<P><B><SPAN STYLE="background: #ffff00">The
point that can be made here is that these visualization options allow
one to begin analyzing the data and making useful comparisons and
conclusions without actually modeling it (although smoothing can be
considered to be a modeling operation).</SPAN></B><B> </B></SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in; line-height: 100%"><BR>
</P>
<P>
<BR>
</P>
<P>Now
switch the Y variable to a categorical one</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(dsmall,
aes(x = carat, y = color, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_point() +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_wrap(~ clarity)</SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_57410c20.png" NAME="Picture 187" ALIGN=BOTTOM WIDTH=683 HEIGHT=436 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P>And
finally</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>ggplot(diamonds,
aes(x = carat, y = cut, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(method =
&quot;lm&quot;, se = FALSE) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_grid(color ~
clarity)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_10dc3439.png" NAME="Picture 188" ALIGN=BOTTOM WIDTH=701 HEIGHT=447 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=11>
			<LI><P><FONT COLOR="#ff0000"><B>Heat
			Maps</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P><B><SPAN STYLE="background: #ffff00">We
now look at </SPAN></B><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">heatmaps</SPAN></B></FONT><B><SPAN STYLE="background: #ffff00">
which use intensity (density) of colors to display relationship
between variables in a two dimensional image.</SPAN></B><B> It allows
you to explore two dimensions as the axis and the third dimension by
intensity of color.</B></SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">ggplot(dsmall,
aes(x = carat, y = cut)) +</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">geom_raster(aes(fill
= price))+</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">scale_fill_continuous(name
= &quot;price&quot;) </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_8716b4e.png" NAME="Picture 189" ALIGN=BOTTOM WIDTH=690 HEIGHT=441 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><B>This
is not an ideal examples which requires 3 continuous variables. </B>You
can get a better sense of the results if the <FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>carat</SPAN></B></FONT></FONT></FONT>
values are limited. </SPAN></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">ggplot(dsmall,
aes(x = carat, y = cut)) +</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">geom_raster(aes(fill
= price))+</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">scale_fill_continuous(name
= &quot;price&quot;) + </FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P>
<FONT COLOR="#4361f7">  <FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">xlim(0.5,
1.5)</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_e8631b70.png" NAME="Picture 190" ALIGN=BOTTOM WIDTH=686 HEIGHT=437 BORDER=0></SPAN></FONT></P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=12>
			<LI><P><FONT COLOR="#ff0000"><B>Correlations</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P><B><SPAN STYLE="background: #ffff00">The
final visualization technique we will cover is the </SPAN></B><FONT COLOR="#ff0000"><B><SPAN STYLE="background: #ffff00">correlogram</SPAN></B></FONT><B><SPAN STYLE="background: #ffff00">
which is used to test the level of co-relation among continuous pairs
of the variables in the data set</SPAN></B>. The cells of the matrix
can be shaded or colored to show the co-relation value. </SPAN></FONT></FONT></FONT>
</P>
<P><B><SPAN STYLE="background: #ffff00">The
darker the color, the higher the co-relation between variables.
Positive co-relations are displayed in blue and negative correlations
in red color. Color intensity is proportional to the co-relation
value.</SPAN></B></SPAN></FONT></FONT></FONT></P>
<P>We
will need to download another R package here</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">install.packages(&quot;corrgram&quot;)</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">library(&quot;corrgram&quot;)</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">corrgram(dsmall,
order=NULL, panel=panel.shade, text.panel=panel.txt,</FONT></FONT></SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7">          
<FONT FACE="Courier New, serif"><B><FONT FACE="Courier New, serif">main=&quot;Correlogram&quot;)
</FONT></FONT></SPAN></B></FONT></FONT></FONT>
</P>
<P><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_8a7206ca.png" NAME="Picture 191" ALIGN=BOTTOM WIDTH=688 HEIGHT=439 BORDER=0></SPAN></FONT></P>
<P><B><SPAN STYLE="background: #ffff00">Again
note this works with continuous variables.</SPAN></B><B> </B></SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P>Note
there is an ineractive visualization package that you can play around
with.</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>install.packages(plotly)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>library(plotly)</SPAN></B></FONT></FONT></FONT></P>
<P><BR><BR>
</P>
<P>Then
simply assign a variable to any ggplot function call</SPAN></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>xx
&lt;- ggplot(dsmall, aes(x = carat, y = price, color = cut)) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>geom_smooth(method =
&quot;lm&quot;, se = FALSE) +</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"> 
<FONT FACE="Courier New, serif"><B>facet_wrap(~ clarity)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>(plot.ly
&lt;- ggplotly(xx))</SPAN></B></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.2in; text-indent: -0.2in; margin-top: 0.08in; line-height: 100%">
And
you can move along the various plots directly on the plots. Note it
may not work with all plots and has problems with very large data
sets. </SPAN></FONT></FONT></FONT>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<OL START=5>
	<OL>
		<OL START=13>
			<LI><P><FONT COLOR="#ff0000"><B>Visualizations
			of Relationships Between Three Variables</SPAN></B></FONT></FONT></FONT></P>
		</OL>
	</OL>
</OL>
<P>The&nbsp;<A HREF="http://www.inside-r.org/packages/scatterplot3d"><SPAN STYLE="text-decoration: none">scatterplot3d</SPAN></FONT></A>&nbsp;package
is the &quot;go-to&quot; package for 3D scatter plots.
The&nbsp;<A HREF="http://cran.r-project.org/web/packages/scatterplot3d/vignettes/s3d.pdf"><SPAN STYLE="text-decoration: none">vignette</SPAN></FONT></A>&nbsp;for
this package shows a rich array of plots. Load this package and
type&nbsp;example(scatterplot3d)&nbsp;at the console to see examples
of spirals, surfaces and 3D scatterplots.</SPAN></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>install.packages(&quot;scatterplot3d&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>library(&quot;scatterplot3d&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P>
<BR>
</P>
<P>
<FONT COLOR="#4361f7"><FONT FACE="Courier New, serif"><B>scatterplot3d(dsmall$price,
dsmall$carat, dsmall$clarity, main=&quot;3D Scatterplot&quot;)</SPAN></B></FONT></FONT></FONT></P>
<P>
<FONT COLOR="#4361f7"><IMG SRC="05_Ch_5_Data_Visualization_UMBC_DS_Class_Jan_2018_html_6d6a1098.png" NAME="Picture 143" ALIGN=BOTTOM WIDTH=581 HEIGHT=408 BORDER=0></SPAN></FONT></P>
<P>
<BR>
</P>
<P>
<BR>
</P>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<P><FONT COLOR="#ff0000"><FONT SIZE=4 STYLE="font-size: 16pt"><B>END
CHAPTER 5</B></FONT></FONT></SPAN></FONT></FONT></FONT></P>

</BODY>
</HTML>